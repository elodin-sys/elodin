% !TEX root = ./Basilisk-MRPROTATION-20180522.tex

\section{Test Description and Success Criteria}
The module is run on its own with specified inputs to ensure the outputs are correct.  The outputs are evaluated dynamically using a support python script, and then compared to the Basilisk evaluated results.  A nominal simulation length of 1 second is used with a time step of 0.5 seconds, yielding 3 return values.

If the rotation states are set directly in the module by specifying {\tt mrpSet} and {\tt omega\_RR0\_R}, then the values $\bm\sigma_{R/R_{0}}(t_{0}) = $\input{AutoTex/sigma_RR0} and $\leftexp{R}{\bm\omega}_{R/R_{0}}=$\input{AutoTex/omega_RR0_R} are used.  The simulation flag {\tt cmdStateFlag} determines if the rotation states are specified through an input message.  If yes, then the values $\bm\sigma_{R/R_{0}}(t_{0}) = $\input{AutoTex/sigma_RR0Cmd} and $\leftexp{R}{\bm\omega}_{R/R_{0}}=$\input{AutoTex/omega_RR0_RCmd} are used instead.  

If the simulation flag {\tt stateOutputFlag} is true then  the optional attitude states of $\mathcal{R}$ relative to $\mathcal{R}_{0}$ are provided in an output message.

If the simulation flag {\tt testReset} is true then  the simulation will run an addition 1 second, but after a reset function is called.

\begin{table}[htbp]
	\caption{Test Scenarios.}
	\label{tab:checks}
	\centering \fontsize{10}{10}\selectfont
	\begin{tabular}{ l | c | c | c } % Column formatting, 
		\hline\hline
		\textbf{Check}  & {\tt cmdStateFlag} & {\tt testReset}  \\ 
		\hline
		1 & False  & False \\
		2 & True  & False \\
		3 & False  & True \\
		4 & True  & True \\
		\hline\hline
	\end{tabular}
\end{table}

\section{Test Parameters}
The output variables being tested are listed in Table~\ref{tab:errortol}, including the test tolerance value.

\begin{table}[htbp]
	\caption{Error tolerance for each test.}
	\label{tab:errortol}
	\centering \fontsize{10}{10}\selectfont
	\begin{tabular}{ c | c } % Column formatting, 
		\hline\hline
		\textbf{Output Value Tested}  & \textbf{Tolerated Error}  \\ 
		\hline
		{\tt attRefOutMsg.sigma\_RN}        & \input{AutoTex/toleranceValue}	   \\
		{\tt attRefOutMsg.omega\_RN\_N}        & \input{AutoTex/toleranceValue}	   \\
		{\tt attRefOutMsg.domega\_RN\_N}        & \input{AutoTex/toleranceValue}	   \\
		{\tt attitudeOutMsg.state}        & \input{AutoTex/toleranceValue}	   \\
		{\tt attitudeOutMsg.rate}        & \input{AutoTex/toleranceValue}	   \\
		\hline\hline
	\end{tabular}
\end{table}




\section{Test Results}
The results of the unit test are listed in Table~\ref{tab:results}.  
All of the tests are expected to pass:
\begin{table}[H]
	\caption{Test results}
	\label{tab:results}
	\centering \fontsize{10}{10}\selectfont
	\begin{tabular}{c | c  } % Column formatting, 
		\hline\hline
		\textbf{Check} 						  		&\textbf{Pass/Fail} \\ 
		\hline
	   1	   			& \input{AutoTex/passFailFalseFalse} \\ 
	   2	   			& \input{AutoTex/passFailTrueFalse} \\ 
	   3	   			& \input{AutoTex/passFailFalseTrue} \\ 
	   4	   			& \input{AutoTex/passFailTrueTrue} \\ 
	   \hline\hline
	\end{tabular}
\end{table}


