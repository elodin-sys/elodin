% !TEX root = ./Basilisk-attTrackingError-20190220.tex

\section{Test Description and Success Criteria}
The unit test instantiates the module and writes out a reference attitude message as well as a spacecraft navigation message.
It then compares the module outputs to expected results.


\section{Test Parameters}

In order to test the proper implementation of this module, the unit test verify that the module output guidance message vectors match expected values.

\begin{table}[htbp]
	\caption{Error tolerance for each test.}
	\label{tab:errortol}
	\centering \fontsize{10}{10}\selectfont
	\begin{tabular}{ c | c } % Column formatting, 
		\hline\hline
		\textbf{Output Value Tested}  &  \textbf{Tolerated Error}  \\ 
		\hline
		$\sigma_{BR}$        & $10^{-12}$	   \\ 
		$\leftexp{B}{\omega_{BR}}$ & $10^{-12}$	   \\ 
		$\leftexp{B}{\omega_{RN}}$ & $10^{-12}$	   \\ 
		$\leftexp{B}{\delta\omega_{RN}}$ & $10^{-12}$	   \\
		\hline\hline
	\end{tabular}
\end{table}

The error tolerances are given in Table \ref{tab:errortol}, while initial conditions used in this test are as follows:

\begin{table}[htbp]
	\caption{Initial conditions}
	\label{tab:ICs}
	\centering \fontsize{10}{10}\selectfont
	\begin{tabular}{ c | c } % Column formatting, 
		\hline\hline
		\textbf{Navigation Information}  &  \textbf{Value}  \\ 
		\hline
		$\sigma_{BN}$        & $\begin{bmatrix} 0.25 & -0.45 & 0.75\end{bmatrix}^T$	   \\ 
		$\leftexp{B}{\omega_{BN}}$ &  $\begin{bmatrix} 0.25 & -0.45 & 0.75\end{bmatrix}^T$	   \\ 
		\hline\hline
		\textbf{Reference Information}  &  \textbf{Value}  \\ 
		\hline
		$\sigma_{RN}$ &  $\begin{bmatrix} 0.35 & -0.25& 0.15\end{bmatrix}^T$	   \\ 
		$\leftexp{N}{\omega_{RN}}$ &  $\begin{bmatrix} 0.018 & -0.032 & 0.015\end{bmatrix}^T$	   \\
		$\delta \leftexp{N}{\omega_{RN}}$ &  $\begin{bmatrix} 0.048& -0.022& 0.025 \end{bmatrix}^T$	   \\
		\hline\hline
	\end{tabular}
\end{table}

Finally the precomputed expected values for the test are give in the following table:

\begin{table}[htbp]
	\caption{Precomputed Expected values}
	\label{tab:exp}
	\centering \fontsize{10}{10}\selectfont
	\begin{tabular}{ c | c } % Column formatting, 
		\hline\hline
		\textbf{Output Value Tested}  &  \textbf{Tolerated Error}  \\ 
		\hline
		$\sigma_{BR}$        &$\begin{bmatrix}0.1836841481753408 & -0.0974447769418166 & -0.09896069560518146\end{bmatrix}^T$	   \\ 
		$\leftexp{B}{\omega_{BR}}$ & $\begin{bmatrix}-0.01181207648013235 &-0.008916032420030655 &-0.0344122606253076\end{bmatrix}^T$	   \\ 
		$\leftexp{B}{\omega_{RN}}$ & $\begin{bmatrix} -0.003187923519867655 &-0.003083967579969345 &0.0394122606253076\end{bmatrix}^T$  \\ 
		$\leftexp{B}{\delta \omega_{RN}}$ &$\begin{bmatrix} -0.02388623421245188 &-0.02835600277714878 & 0.04514847640452802\end{bmatrix}^T$	   \\
		\hline\hline
	\end{tabular}
\end{table}


\section{Test Results}

All of the tests passed:
\begin{table}[H]
	\caption{Test results}
	\label{tab:results}
	\centering \fontsize{10}{10}\selectfont
	\begin{tabular}{c | c  } % Column formatting, 
		\hline\hline
	   \textbf{Check} 	&\textbf{Pass/Fail} \\ \hline
	   1	   			& \input{AutoTeX/passFail_sigBR} \\ 
	   2	   			& \input{AutoTeX/passFail_omega_BR_B} \\ 
	   3	   			& \input{AutoTeX/passFail_omega_RN_B} \\ 
	   4	   			& \input{AutoTeX/passFail_domega_RN_B} \\ 
	   \hline\hline
	\end{tabular}
\end{table}





