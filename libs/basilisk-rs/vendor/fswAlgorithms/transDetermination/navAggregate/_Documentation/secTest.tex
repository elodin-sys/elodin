% !TEX root = ./Basilisk-navAggregate-2019-02-21.tex

\section{Test Description and Success Criteria}
The unit test sets up a range of module input conditions ranging from using no message, 1 message, 2 messages,  using index for an empty message, as well as setting out of range index and message count variables.  If a single message count is specified, then no index value is set.  Here the default value of 0 is used to read in the first and only message,  If 2 messages are available, and the index is set to 2 (i.e. the 3rd message location), then the module read in a zero'd message value.  If the message count is larger than the allowable array size of 10, i.e. set the count to 11, then the count is reduced back to 10. If the index value is larger than 9 (largest slot location within a 10 dimensional array), then the index is reduced to 9.   All permutations between setting these conditions between the attitude and translation navigation messages are tested. 




\section{Test Parameters}

The attitude navigation messages are setup using the states shown in Tables~\ref{tab:attNav1} and \ref{tab:attNav2}.  If no attitude navigation message is specified, then the attitude navigation output should be a zero message.  If an index is chosen that is larger than 2 but less than the maximum number of allowable input messages, then the corresponding message variable should be zeroed as well.  If an index is chosen that is larger than the input message array size, then the parameter is reduced to the maximum allowable value.

\begin{table}[htbp]
	\caption{Attitude Navigation Message \#1 and Error tolerance for each test.}
	\label{tab:attNav1}
	\centering \fontsize{10}{10}\selectfont
	\begin{tabular}{ c | c | c } % Column formatting, 
		\hline\hline
		\textbf{Output Value Tested} & \textbf{Value} & \textbf{Tolerated Error}  \\ 
		\hline
		{\tt timeTag}  &   \input{AutoTeX/navAtt1Msg.timeTag}    & \input{AutoTeX/toleranceValue}	   \\ 
		{\tt sigma\_BN}  &   \input{AutoTeX/navAtt1Msg.sigma_BN}    & \input{AutoTeX/toleranceValue}	   \\ 
		{\tt omega\_BN\_B}  &   \input{AutoTeX/navAtt1Msg.omega_BN_B}    & \input{AutoTeX/toleranceValue}	   \\ 
		{\tt vehSunPntBdy}  &   \input{AutoTeX/navAtt1Msg.vehSunPntBdy}    & \input{AutoTeX/toleranceValue}	   \\ 
		\hline\hline
	\end{tabular}
\end{table}

\begin{table}[htbp]
	\caption{Attitude Navigation Message \#2 and Error tolerance for each test.}
	\label{tab:attNav2}
	\centering \fontsize{10}{10}\selectfont
	\begin{tabular}{ c | c | c } % Column formatting, 
		\hline\hline
		\textbf{Output Value Tested} & \textbf{Value} & \textbf{Tolerated Error}  \\ 
		\hline
		{\tt timeTag}  &   \input{AutoTeX/navAtt2Msg.timeTag}    & \input{AutoTeX/toleranceValue}	   \\ 
		{\tt sigma\_BN}  &   \input{AutoTeX/navAtt2Msg.sigma_BN}    & \input{AutoTeX/toleranceValue}	   \\ 
		{\tt omega\_BN\_B}  &   \input{AutoTeX/navAtt2Msg.omega_BN_B}    & \input{AutoTeX/toleranceValue}	   \\ 
		{\tt vehSunPntBdy}  &   \input{AutoTeX/navAtt2Msg.vehSunPntBdy}    & \input{AutoTeX/toleranceValue}	   \\ 
		\hline\hline
	\end{tabular}
\end{table}


Tables~\ref{tab:transNav1} and \ref{tab:transNav2} show the translational input navigation message states.

\begin{table}[htbp]
	\caption{Translational Navigation Message \#1 and Error tolerance for each test.}
	\label{tab:transNav1}
	\centering \fontsize{10}{10}\selectfont
	\begin{tabular}{ c | c | c } % Column formatting, 
		\hline\hline
		\textbf{Output Value Tested} & \textbf{Value} & \textbf{Tolerated Error}  \\ 
		\hline
		{\tt timeTag}  &   \input{AutoTeX/navTrans1Msg.timeTag}    & \input{AutoTeX/toleranceValue}	   \\ 
		{\tt r\_BN\_N}  &   \input{AutoTeX/navTrans1Msg.r_BN_N}    & \input{AutoTeX/toleranceValue}	   \\ 
		{\tt v\_BN\_N}  &   \input{AutoTeX/navTrans1Msg.v_BN_N}    & \input{AutoTeX/toleranceValue}	   \\ 
		{\tt vehAccumDV}  &   \input{AutoTeX/navTrans1Msg.vehAccumDV}    & \input{AutoTeX/toleranceValue}	   \\ 
		\hline\hline
	\end{tabular}
\end{table}

\begin{table}[htbp]
	\caption{Translational Navigation Message \#2 and Error tolerance for each test.}
	\label{tab:transNav2}
	\centering \fontsize{10}{10}\selectfont
	\begin{tabular}{ c | c | c } % Column formatting, 
		\hline\hline
		\textbf{Output Value Tested} & \textbf{Value} & \textbf{Tolerated Error}  \\ 
		\hline
		{\tt timeTag}  &   \input{AutoTeX/navTrans2Msg.timeTag}    & \input{AutoTeX/toleranceValue}	   \\ 
		{\tt r\_BN\_N}  &   \input{AutoTeX/navTrans2Msg.r_BN_N}    & \input{AutoTeX/toleranceValue}	   \\ 
		{\tt v\_BN\_N}  &   \input{AutoTeX/navTrans2Msg.v_BN_N}    & \input{AutoTeX/toleranceValue}	   \\ 
		{\tt vehAccumDV}  &   \input{AutoTeX/navTrans2Msg.vehAccumDV}    & \input{AutoTeX/toleranceValue}	   \\ 
		\hline\hline
	\end{tabular}
\end{table}



\section{Test Results}
The permuations of the unit test configurations are listed in Table~\ref{tab:results}.  All the tests should pass.  If the variable index parameter is beyond the number of message that variable is zeroed.  If an index is set to N/A, this indicates that this index is not set in python to test the default behavior.


\begin{table}[H]
	\caption{Test results}
	\label{tab:results}
	\centering \fontsize{10}{10}\selectfont
	\begin{tabular}{c | c | c | c | c  } % Column formatting, 
		\hline\hline
		 & Attitude  &  & Translation  & \\ 
		{\tt attMsgCount} &  Variable {\tt Idx} & {\tt transMsgCount} &  Variable {\tt Idx} &\textbf{Pass/Fail} \\ 
		\hline
	   0 & N/A  & 0 & N/A & \input{AutoTeX/passFail00} \\ 
	   1 & N/A  & 1 & N/A & \input{AutoTeX/passFail11} \\ 
	   0 & N/A  & 1 & N/A & \input{AutoTeX/passFail01} \\ 
	   1 & N/A  & 0 & N/A & \input{AutoTeX/passFail10} \\ 
	   2 & 1  & 2 & 1 & \input{AutoTeX/passFail22} \\ 
	   1 & N/A  & 2 & 1 & \input{AutoTeX/passFail12} \\ 
	   0 & N/A  & 2 & 1 & \input{AutoTeX/passFail02} \\ 
	   2 & 1  & 1 & N/A & \input{AutoTeX/passFail21} \\ 
	   2 & 1  & 0 & N/A & \input{AutoTeX/passFail20} \\ 
	   2 & 2  & 2 & 2 & \input{AutoTeX/passFail33} \\ 
	   2 & 2  & 2 & 1 & \input{AutoTeX/passFail32} \\ 
	   2 & 2  & 1 & N/A & \input{AutoTeX/passFail31} \\ 
	   2 & 2  & 0 & N/A & \input{AutoTeX/passFail30} \\ 
	   2 & 1  & 2 & 2 & \input{AutoTeX/passFail23} \\ 
	   1 & N/A  & 2 & 2 & \input{AutoTeX/passFail13} \\ 
	   0 & N/A & 2 & 2 & \input{AutoTeX/passFail03} \\ 
	   11 & 11 & 11 & 11 & \input{AutoTeX/passFail1111} \\ 
	   2 & 2 & 11 & 11 & \input{AutoTeX/passFail311} \\ 
	   2 & 1 & 11 & 11 & \input{AutoTeX/passFail211} \\ 
	   1 & N/A & 11 & 11 & \input{AutoTeX/passFail111} \\ 
	   0 & N/A & 11 & 11 & \input{AutoTeX/passFail011} \\ 
	   11 & 11 & 2 & 2 & \input{AutoTeX/passFail113} \\ 
	   11 & 11 & 2 & 1 & \input{AutoTeX/passFail112} \\ 
	   11 & 11 & 1 & N/A & \input{AutoTeX/passFail111} \\ 
	   11 & 11 & 0 & N/A & \input{AutoTeX/passFail110} \\ 
	   \hline\hline
	\end{tabular}
\end{table}

