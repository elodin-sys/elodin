\section{Test Description and Success Criteria}
The unit test, test\_gravityDynEffector.py,  validates the internal aspects of the Basilisk spherical harmonics gravity effector module by comparing module output to expected output. It utilizes spherical harmonics for calulcation given the gravitation parameter for the massive body, a reference radius, and the maximum degree of spherical harmonics to be used. The unit test verifies basic set-up, single-body gravitational acceleration, and multi-body gravitational acceleration.

\subsection{Model Set-Up Verification}
This test verifies, via three checks, that the model is appropriately initialized when called.
		\begin{itemize}
			\item \underline{1.1} The first check verifies that the normalized coefficient matrix for the spherical harmonics calculations is initialized appropriately as a $3\times3$ identity matrix. \\
			\item \underline{1.2} The second check verifies that the magnitude of the gravity being calculated is reasonable(i.e. between $9.7$ and $9.9$ $m/s^2$). \\
			\item \underline{1.3} The final check ensures that the maximum degrees value is truly acting as a ceiling on the maximum number of degrees being used in the spherical harmonics algorithms. For example, if the maximum degrees value is set to 20, an attempt is made to call the spherical harmonics algorithms with a degrees value of 100 and another attempt is made with a degrees value of 20. The results are compared and should be equal due to the enforcement of the maximum degrees value.\\
		\end{itemize}
\subsection{Single-Body Gravity Calculations} This test compares calculated gravity values around the Earth with ephemeris data from the Hubble telescope. The simulation begins shortly after 0200 UTC May 1, 2012 and carries on for two hours, evaluating the gravitational acceleration at two  second intervals.
\subsection{Multi-Body Gravity Calculations} This test includes gravity effects from Earth, Mars, Jupiter, and the Sun. Calculations are verified by comparing against ephemeris data from the DAWN mission. The simulation begins at midnight, October 24th, 2008 and carries on for just under 22 minutes, evaluating the gravitational acceleration at two second intervals.

\section{Test Parameters}

This section summarizes the  specific error tolerances for each test. Error tolerances are determined based on whether the test results comparison should be exact or approximate due to integration or other reasons. Error tolerances for each test are summarized in table \ref{tab:errortol}. \\

\begin{table}[htbp]
	\caption{Error tolerance for each test.}
	\label{tab:errortol}
	\centering \fontsize{10}{10}\selectfont
	\begin{tabular}{ c | c } % Column formatting, 
		\hline
		\textbf{Test}   							    & \textbf{Tolerated Error} 						  \\ \hline
		%			Gravity Magnitude (check 1.2)        & \input{AutoTex/sphericalHarmonicsAccuracy}		   \\ \hline
		%			Single-Body Gravity						   & \input{AutoTex/singleBodyAccuracy}														   \\ \hline
		%			Multi-Body Gravity 						   & \input{AutoTex/multiBodyAccuracy}	 		       \\ \hline
	\end{tabular}
\end{table}

\section{Test Results}

All checks within test\_gravityDynEffector.py passed as expected. Table \ref{tab:results} shows the test results.\\

\begin{table}[htbp]
	\caption{Test results.}
	\label{tab:results}
	\centering \fontsize{10}{10}\selectfont
	\begin{tabular}{c | c | c  } % Column formatting, 
		\hline
		\textbf{Test} 				    & \textbf{Pass/Fail} 						   			           & \textbf{Notes} 									\\ \hline
		%		Setup Test 		   			  	& \input{AutoTex/sphericalHarmonicsPassFail}     & \input{AutoTex/sphericalHarmonicsFailMsg}			 \\ \hline
		%		Single-Body Gravity		   	& \input{AutoTex/singleBodyPassFail}                 & \input{AutoTex/singleBodyFailMsg} \\ \hline
		%		Multi-Body Gravity			 &\input{AutoTex/multiBodyPassFail}  			 	 &  \input{AutoTex/multiBodyFailMsg} 			   \\ \hline
	\end{tabular}
\end{table}