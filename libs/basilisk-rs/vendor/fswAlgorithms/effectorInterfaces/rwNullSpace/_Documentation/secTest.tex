% !TEX root = ./Basilisk-rwNullspace-20190209.tex

\section{Test Description and Success Criteria}
The module is run with a fixed RW configuration setup to compare the expected output with the actual BSK module output.  The true output is evaluated within the Python script.

\subsection{Check 1}
In this case only 3 RWs are provided.  Here there is no RW null space and the module output should simply be the $\bm u_{s,\text{cont}}$ array.

\subsection{Check 2}
Here 4 RWs are provided yielding a functional null space to exploit.  In this scenario the expected module torque output is evaluated within the Python script.





\section{Test Parameters}
The following information pertains to the 4 RW case. If only 3 RW are simulated, then the 4th wheel information is omitted.  The tests are setup with the following RW spin axis configuration:
\begin{equation}
\hat{\bm g}_{s_{1}} = \leftexp{B}{\begin{bmatrix} 1 \\ 0 \\ 0 \end{bmatrix}}
\quad\quad
\hat{\bm g}_{s_{2}} = \leftexp{B}{\begin{bmatrix} 0 \\ 1 \\ 0 \end{bmatrix}}
\quad\quad
\hat{\bm g}_{s_{3}} = \leftexp{B}{\begin{bmatrix} 0 \\ 0 \\ 1 \end{bmatrix}}
\quad\quad
\hat{\bm g}_{s_{4}} = \leftexp{B}{\begin{bmatrix} 0.57735 \\ 0.57735 \\ 0.57735 \end{bmatrix}}
\end{equation}

The gain is set to $K = 0.5$, while the RW speeds are
\begin{equation}
	\bm\Omega = \begin{bmatrix}
		10 & 20 & 30 & 40
	\end{bmatrix} \text{ rad/sec}
\end{equation}

The attitude control torque array is set to 
\begin{equation}
	\bm u_{s,\text{cont}} = \begin{bmatrix}
		0.1 & 0.2 & 0.15 & -0.2
	\end{bmatrix} \text{ Nm}
\end{equation}



The unit testsverify that the module output {\tt RWArrayTorqueIntMsg} messages match expected values.
\begin{table}[htbp]
	\caption{Error tolerance for each test.}
	\label{tab:errortol}
	\centering \fontsize{10}{10}\selectfont
	\begin{tabular}{ c | c } % Column formatting, 
		\hline\hline
		\textbf{Output Value Tested}  & \textbf{Tolerated Error}  \\ 
		\hline
		{\tt motorTorque}        & 	  \input{AutoTeX/toleranceValue.tex} \\ 
		\hline\hline
	\end{tabular}
\end{table}




\section{Test Results}
The results of the unit test should be included in the documentation.  The results can be discussed verbally, but also included as tables and figures.  

All of the tests passed:
\begin{table}[H]
	\caption{Test results}
	\label{tab:results}
	\centering \fontsize{10}{10}\selectfont
	\begin{tabular}{c | c  } % Column formatting, 
		\hline\hline
		\textbf{Check} 						  		&\textbf{Pass/Fail} \\ 
		\hline
	   1	   			&  \input{AutoTeX/passFail3.tex}\\ 
	   2	   			&  \input{AutoTeX/passFail4.tex} \\ 
	   \hline\hline
	\end{tabular}
\end{table}





