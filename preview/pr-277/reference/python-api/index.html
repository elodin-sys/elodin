<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
<link rel="stylesheet" href="https:&#x2F;&#x2F;unpkg.com&#x2F;boxicons@2.1.4&#x2F;css&#x2F;boxicons.min.css" media="print" onload="this.media='all'; this.onload = null">
<noscript><link rel="stylesheet" href="https:&#x2F;&#x2F;unpkg.com&#x2F;boxicons@2.1.4&#x2F;css&#x2F;boxicons.min.css"></noscript>

    
  <link rel="preload" as="font" href="https://docs.elodin.systems/preview/pr-277/fonts/spacegrotesk.woff2" type="font/woff2" crossorigin>
  <link rel="preload" as="font" href="https://docs.elodin.systems/preview/pr-277/fonts/ibm-plex-sans-300.woff2" type="font/woff2" crossorigin>
  <link rel="preload" as="font" href="https://docs.elodin.systems/preview/pr-277/fonts/ibm-plex-sans-400.woff2" type="font/woff2" crossorigin>
  <link rel="preload" as="font" href="https://docs.elodin.systems/preview/pr-277/fonts/ibm-plex-sans-500.woff2" type="font/woff2" crossorigin>
  <link rel="preload" as="font" href="https://docs.elodin.systems/preview/pr-277/fonts/ibm-plex-sans-600.woff2" type="font/woff2" crossorigin>
  <link rel="preload" as="font" href="https://docs.elodin.systems/preview/pr-277/fonts/ibm-plex-sans-700.woff2" type="font/woff2" crossorigin>
  <link rel="preload" as="font" href="https://docs.elodin.systems/preview/pr-277/fonts/ibm-plex-mono-300.woff2" type="font/woff2" crossorigin>
  <link rel="preload" as="font" href="https://docs.elodin.systems/preview/pr-277/fonts/ibm-plex-mono-400.woff2" type="font/woff2" crossorigin>
  <link rel="preload" as="font" href="https://docs.elodin.systems/preview/pr-277/fonts/ibm-plex-mono-500.woff2" type="font/woff2" crossorigin>
  <link rel="preload" as="font" href="https://docs.elodin.systems/preview/pr-277/fonts/ibm-plex-mono-600.woff2" type="font/woff2" crossorigin>
  <link rel="preload" as="font" href="https://docs.elodin.systems/preview/pr-277/fonts/ibm-plex-mono-700.woff2" type="font/woff2" crossorigin>

    
<link rel="stylesheet" href="https://docs.elodin.systems/preview/pr-277/main.css">

    
  <meta name="theme-color" content="#fff">
  <link rel="apple-touch-icon" sizes="180x180" href="https://docs.elodin.systems/preview/pr-277/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="https://docs.elodin.systems/preview/pr-277/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="https://docs.elodin.systems/preview/pr-277/favicon-16x16.png">
  
    <link rel="manifest" href="https://docs.elodin.systems/preview/pr-277/site.webmanifest" crossorigin>
  


  
  
    
  

  
  
    
    
  

  
    
  
  
  
  
    
  

  


  <meta name="robots" content="index, follow">
  <meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
  <meta name="bingbot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">


	


	

<title>Python API | Elodin</title>
<meta name="description" content="Python API">
<link rel="canonical" href="https://docs.elodin.systems/preview/pr-277/reference/python-api/">


  <meta name="twitter:card" content="summary_large_image">
  
    <meta name="twitter:image" content="https://docs.elodin.systems/preview/pr-277/logo.png">
  
  <meta name="twitter:title" content="Python API">
  <meta name="twitter:description" content="Python API">
  <meta name="twitter:site" content="@elodinsystems">
  <meta name="twitter:creator" content="@elodinsystems">

  <meta property="og:title" content="Python API">
  <meta property="og:description" content="Python API">
  <meta property="og:type" content="article">
  <meta property="og:url" content="https://docs.elodin.systems/preview/pr-277/reference/python-api/">

  
    <meta property="og:image" content="https://docs.elodin.systems/preview/pr-277/logo.png">
  

  <meta property="og:updated_time" content="">
  <meta property="og:site_name" content="Python API">

  

  

  
  <meta property="og:locale" content="en_US">





  





<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BreadcrumbList",
    
      
      
        
        
        
        
        
        
        
        
          {
            "@type": "ListItem",
            "position":  1 ,
            "name": "Home",
            "item": "https://docs.elodin.systems/preview/pr-277/"
          },
          
          
          {
            "@type": "ListItem",
            "position":  2 ,
            "name": "Reference",
            "item": "https://docs.elodin.systems/preview/pr-277/reference/"
          },
        
      
        
        
        
        
        
        
        
        
        
        
        
          
          
          {
            "@type": "ListItem",
            "position":  3 ,
            "name": "Python Api",
            "item": "https://docs.elodin.systems/preview/pr-277/reference/python-api/"
          },
        
      
    
  }
</script>




</head>

<body class="docs single">
  
    
    
    
  
  
    
<header class="navbar fixed-top navbar-expand-md navbar-light">
    <div class="container">
        <div class="col-2" style="display: flex; gap: 20px">
            <a
                href="https://elodin.systems"
                class="nav-link-icon"
                target="_blank"
                rel="noopener noreferrer"
                ><svg
                    width="20"
                    height="25"
                    viewBox="0 0 20 25"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path
                        d="M10 0H15C17.7615 0 20 2.23858 20 5V20.0001C20 22.7615 17.7615 25.0001 15 25.0001H5C2.23853 25.0001 0 22.7615 0 20V5C0 2.23858 2.23853 1.90735e-06 5 1.90735e-06V5V20.0001H15V5L5 5C5 2.23858 7.23853 0 10 0Z"
                        fill="currentColor"
                    />
                </svg>
            </a>
            <span>
                <select name="version" class="version-select" disabled>
                    <option value="v0.15.2" selected>
                        v0.15.2
                    </option>
                </select>
            </span>
        </div>

        <div
            class="col-2 d-none d-lg-block"
            style="margin-left: 56px"
        >
            <form style="width: 264px">
                <input
                    id="userinput"
                    class="form-control is-search"
                    type="search"
                    placeholder="Search"
                    aria-label="Search"
                    autocomplete="off"
                />
                <div id="suggestions" class="shadow bg-white rounded"></div>
            </form>
        </div>
        <div class="col-2 d-none d-md-block"></div>
        <div class="col-2" style="margin-left: 35px">
            <ul class="navbar-nav main-nav me-auto">
                      
                <li
                    class="nav-item"
                >
                    <a
                        class="nav-link"
                        href="https://docs.elodin.systems/preview/pr-277/home/quickstart"
                        >HOME</a
                    >
                </li>
                  
                <li
                    class="nav-item reference active"
                >
                    <a
                        class="nav-link"
                        href="https://docs.elodin.systems/preview/pr-277/reference/overview"
                        >Reference</a
                    >
                </li>
                  
                <li
                    class="nav-item"
                >
                    <a
                        class="nav-link"
                        href="https://docs.elodin.systems/preview/pr-277/releases/changelog"
                        >Releases</a
                    >
                </li>
                  
            </ul>
        </div>
        <div class="col-1"></div>
        <div
            class="col-2 d-none d-xl-block"
            style="margin-right: 63px"
        >
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link nav-link-icon" href="https://github.com/elodin-sys/elodin">
                        <i class="bx bxl-github"></i>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link nav-link-icon" href="https://elodin.app/discord">
                        <i class="bx bxl-discord-alt"></i>
                    </a>
                </li>
                <li class="nav-item">
                    <a id="mode-1" class="nav-link nav-link-icon toggle-dark">
                        <i class='bx bxs-sun'></i>
                    </a>
                    <a id="mode-2" class="nav-link nav-link-icon toggle-light">
                        <i class='bx bxs-moon'></i>
                    </a>
                </li>
            </ul>
        </div>
    </div>
</header>

  
  <div class="wrap container tom-blue" role="document">
      <div class="content">
          <div class="row flex-xxl-nowrap justify-content-center">
              
<div class="col-lg-5 col-xl-4 docs-sidebar d-none d-lg-block">
    <nav class="docs-links" aria-label="Main navigation">
          
        <h3>Reference</h3>
        <ul class="list-unstyled">
            
            <li>
                <a
                    class="docs-link "
                    href="https://docs.elodin.systems/preview/pr-277/reference/overview/"
                    >Overview</a
                >
            </li>
            
            <li>
                <a
                    class="docs-link "
                    href="https://docs.elodin.systems/preview/pr-277/reference/coords/"
                    >Coordinate Systems</a
                >
            </li>
            
            <li>
                <a
                    class="docs-link active"
                    href="https://docs.elodin.systems/preview/pr-277/reference/python-api/"
                    >Python API</a
                >
            </li>
            
            <li>
                <a
                    class="docs-link "
                    href="https://docs.elodin.systems/preview/pr-277/reference/elodin-cli/"
                    >Elodin CLI</a
                >
            </li>
            
            <li>
                <a
                    class="docs-link "
                    href="https://docs.elodin.systems/preview/pr-277/reference/replays/"
                    >Replays</a
                >
            </li>
            
        </ul>
          
         
        <h3>Migration Guides</h3>
        <ul class="list-unstyled">
            
            <li>
                <a
                    class=" docs-link"
                    href="https://docs.elodin.systems/preview/pr-277/reference/migration/to-0-15/"
                    >v0.14 to v0.15</a
                >
            </li>
            
        </ul>
          
    </nav>
</div>

               
<nav
    class="docs-toc d-none d-xxl-block col-xl-3"
    aria-label="Secondary navigation"
>
    <div class="page-links">
        <h3>On this page</h3>
        <nav id="TableOfContents">
            <ul>
                
                <li><a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#world">World</a></li>
                
                <ul>
                    
                    <li>
                        <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-world">class elodin.World</a>
                    </li>
                    
                    <li>
                        <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-entityid">class elodin.EntityId</a>
                    </li>
                    
                    <li>
                        <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-panel">class elodin.Panel</a>
                    </li>
                    
                    <li>
                        <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-graphentity">class elodin.GraphEntity</a>
                    </li>
                    
                    <li>
                        <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-mesh">class elodin.Mesh</a>
                    </li>
                    
                    <li>
                        <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-material">class elodin.Material</a>
                    </li>
                    
                    <li>
                        <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-shape">class elodin.Shape</a>
                    </li>
                    
                    <li>
                        <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-scene">class elodin.Scene</a>
                    </li>
                    
                </ul>
                 
                <li><a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#6-degrees-of-freedom-model">6 Degrees of Freedom Model</a></li>
                
                <ul>
                    
                    <li>
                        <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#function-elodin-six-dof">function elodin.six_dof</a>
                    </li>
                    
                    <li>
                        <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-integrator">class elodin.Integrator</a>
                    </li>
                    
                    <li>
                        <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-body">class elodin.Body</a>
                    </li>
                    
                </ul>
                 
                <li><a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#components">Components</a></li>
                
                <ul>
                    
                    <li>
                        <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-component">class elodin.Component</a>
                    </li>
                    
                    <li>
                        <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-componenttype">class elodin.ComponentType</a>
                    </li>
                    
                    <li>
                        <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-edge">class elodin.Edge</a>
                    </li>
                    
                </ul>
                 
                <li><a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#archetypes">Archetypes</a></li>
                 
                <li><a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#systems">Systems</a></li>
                
                <ul>
                    
                    <li>
                        <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#elodin-system">@elodin.system</a>
                    </li>
                    
                    <li>
                        <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#elodin-map">@elodin.map</a>
                    </li>
                    
                    <li>
                        <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-query">class elodin.Query</a>
                    </li>
                    
                    <li>
                        <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-graphquery">class elodin.GraphQuery</a>
                    </li>
                    
                </ul>
                 
                <li><a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#primitives">Primitives</a></li>
                
                <ul>
                    
                    <li>
                        <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-primitivetype">class elodin.PrimitiveType</a>
                    </li>
                    
                    <li>
                        <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-quaternion">class elodin.Quaternion</a>
                    </li>
                    
                </ul>
                 
                <li><a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#spatial-vector-algebra">Spatial Vector Algebra</a></li>
                
                <ul>
                    
                    <li>
                        <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-spatialtransform">class elodin.SpatialTransform</a>
                    </li>
                    
                    <li>
                        <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-spatialmotion">class elodin.SpatialMotion</a>
                    </li>
                    
                    <li>
                        <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-spatialforce">class elodin.SpatialForce</a>
                    </li>
                    
                    <li>
                        <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-spatialinertia">class elodin.SpatialInertia</a>
                    </li>
                    
                </ul>
                 
            </ul>
        </nav>
    </div>
</nav>
 
              <main class="docs-content col-lg-11 col-xxl-10">
                  <h1>Python API</h1>
                   <h2 id="world">World</h2>
<p>An Elodin simulation begins with a <code>World</code> object. The <code>World</code> object is the root of the simulation hierarchy and provides methods for composing
and running the simulation. The <code>World</code> object also provides helper methods for displaying entities and graphs in the editor.</p>
<h3 id="class-elodin-world"><em>class</em> <code>elodin.World</code></h3>
<p>The Elodin simulation world.</p>
<ul>
<li>
<p><code>__init__()</code> -&gt; <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-world">elodin.World</a></p>
<p>Create a new world object.</p>
</li>
<li>
<p><code>spawn(archetypes, name)</code> -&gt; <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-entityid">elodin.EntityId</a></p>
<p>Spawn a new entity with the given archetypes and name.</p>
<ul>
<li><code>archetypes</code> : one or many <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#archetypes">Archetypes</a>,</li>
<li><code>name</code> : optional name of the entity</li>
</ul>
</li>
<li>
<p><code>insert(id, archetypes)</code> -&gt; None</p>
<p>Insert archetypes into an existing entity.</p>
<ul>
<li><code>id</code> : <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-entityid">elodin.EntityId</a>, the id of the entity to insert into.</li>
<li><code>archetypes</code> : one or many <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#archetypes">Archetypes</a></li>
</ul>
</li>
<li>
<p><code>insert_asset(asset)</code> -&gt; handle reference</p>
<p>Insert a 3D asset into the world.</p>
<ul>
<li><code>asset</code> <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-mesh">elodin.Mesh</a> | <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-material">elodin.Material</a> : the asset to insert, allows for loading the mesh once and using it in multiple shapes.</li>
</ul>
</li>
<li>
<p><code>shape(mesh, material)</code> -&gt; <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-shape">elodin.Shape</a></p>
<p>Create a shape as an Elodin Shape Archetype.</p>
<ul>
<li><code>mesh</code>: the mesh of the shape,</li>
<li><code>material</code>: the material of the shape</li>
</ul>
</li>
<li>
<p><code>glb(url)</code> -&gt; <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-scene">elodin.Scene</a></p>
<p>Load a GLB asset as an Elodin Scene Archetype.</p>
<ul>
<li><code>url</code>: the URL or filepath of the GLB asset</li>
</ul>
</li>
<li>
<p><code>run(system, sim_time_step, run_time_step, default_playback_speed, max_ticks, optimize)</code> -&gt; None</p>
<p>Run the simulation.</p>
<ul>
<li><code>system</code> : <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#elodin-system">elodin.System</a>, the systems to run, can be supplied as a list of systems delineated by pipes.</li>
<li><code>sim_time_step</code> : <code>float</code>, optional, the amount of simulated time between each tick, defaults to <code>1 / 120.0</code>.</li>
<li><code>run_time_step</code> : <code>float | None</code>, optional, the amount of real time between each tick. By default it is <code>None</code> and runs at max speed. For real-time playback set to same value as <code>sim_time_step</code>.</li>
<li><code>default_playback_speed</code> : <code>float</code>, optional, the default playback speed of the Elodin client when running this simulation, defaults to 1.0 (real-time).</li>
<li><code>max_ticks</code> : <code>integer</code>, optional, the maximum number of ticks to run the simulation for before stopping.</li>
<li><code>optimize</code> : <code>bool</code>, optional flag to enable runtime optimizations for the simulation code, defaults to <code>False</code>. If optimizations are enabled, the simulation will start slower but run faster.</li>
</ul>
</li>
</ul>
<h3 id="class-elodin-entityid"><em>class</em> <code>elodin.EntityId</code></h3>
<p>Integer reference identifier for entities in Elodin.</p>
<h3 id="class-elodin-panel"><em>class</em> <code>elodin.Panel</code></h3>
<p>A configuration object for creating a panel view in the Elodin Client UI.</p>
<ul>
<li>
<p><code>Panel.viewport(track_entity, track_rotation, fov, active, pos, looking_at, show_grid, hdr, name)</code> -&gt; <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-panel">elodin.Panel</a></p>
<p>Create a viewport panel.</p>
<ul>
<li><code>track_entity</code> : <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-entityid">elodin.EntityId</a>, optional, the entity to track.</li>
<li><code>track_rotation</code> : <code>boolean</code>, whether to track the rotation of the entity, defaults to <code>True</code>.</li>
<li><code>fov</code> : <code>float</code>, the field of view of the camera, defaults to <code>45.0</code>.</li>
<li><code>active</code> : <code>boolean</code>, whether the panel is active, defaults to <code>False</code>.</li>
<li><code>pos</code> : <code>list</code>, optional, the position of the camera.</li>
<li><code>looking_at</code> : <code>list</code>, optional, the point the camera is looking at.</li>
<li><code>show_grid</code> : <code>boolean</code>, whether to show the grid, defaults to <code>False</code>.</li>
<li><code>hdr</code> : <code>boolean</code>, whether to use HDR rendering, defaults to <code>False</code>.</li>
<li><code>name</code> : <code>string</code>, optional, the name of the panel.</li>
</ul>
</li>
<li>
<p><code>Panel.graph(*entities, name)</code> -&gt; <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-panel">elodin.Panel</a></p>
<p>Create a graph panel.</p>
<ul>
<li><code>*entities</code> : Sequence of <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-graphentity">elodin.GraphEntity</a> objects to include in the graph.</li>
<li><code>name</code> : <code>string</code>, optional, the name of the panel.</li>
</ul>
</li>
<li>
<p><code>Panel.vsplit(*panels, active)</code> -&gt; <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-panel">elodin.Panel</a></p>
<p>Create a vertical split panel.</p>
<ul>
<li><code>*panels</code> : Sequence of <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-panel">elodin.Panel</a> objects to vertically split across.</li>
<li><code>active</code> : <code>boolean</code>, whether the panel is active, defaults to <code>False</code>.</li>
</ul>
</li>
<li>
<p><code>Panel.hsplit(*panels, active)</code> -&gt; <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-panel">elodin.Panel</a></p>
<p>Create a horizontal split panel.</p>
<ul>
<li><code>*panels</code> : Sequence of <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-panel">elodin.Panel</a> objects to horizontally split across.</li>
<li><code>active</code> : <code>boolean</code>, whether the panel is active, defaults to <code>False</code>.</li>
</ul>
</li>
</ul>
<h3 id="class-elodin-graphentity"><em>class</em> <code>elodin.GraphEntity</code></h3>
<p>A configuration object for creating a graph entity in the Elodin Client UI.</p>
<ul>
<li>
<p><code>__init__(entity_id, *components)</code> -&gt; <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-graphentity">elodin.GraphEntity</a></p>
<p>Create a graph entity.</p>
<ul>
<li><code>entity_id</code> : <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-entityid">elodin.EntityId</a>, the entity to graph.</li>
<li><code>*components</code> : Sequence of <code>elodin.ShapeIndexer</code> indexes of components to graph.</li>
</ul>
</li>
</ul>
<h3 id="class-elodin-mesh"><em>class</em> <code>elodin.Mesh</code></h3>
<p>A built in class for creating basic 3D meshes.</p>
<ul>
<li>
<p><code>Mesh.cuboid(x: float, y: float, z: float)</code> -&gt; <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-mesh">elodin.Mesh</a></p>
<p>Create a cuboid mesh with dimensions <code>x</code>, <code>y</code>, and <code>z</code>.</p>
</li>
<li>
<p><code>Mesh.sphere(radius: float)</code> -&gt; <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-mesh">elodin.Mesh</a></p>
<p>Create a sphere mesh with radius <code>radius</code>.</p>
</li>
</ul>
<h3 id="class-elodin-material"><em>class</em> <code>elodin.Material</code></h3>
<p>A built in class for creating basic 3D materials.</p>
<ul>
<li>
<p><code>Material.color(r: float, g: float, b: float)</code> -&gt; <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-material">elodin.Material</a></p>
<p>Create a material with RGB color values.</p>
</li>
</ul>
<h3 id="class-elodin-shape"><em>class</em> <code>elodin.Shape</code></h3>
<p><code>Shape</code> describes a basic entity for rendering 3D assets in Elodin.</p>
<ul>
<li>
<p><code>__init__(mesh, material)</code> -&gt; <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-shape">elodin.Shape</a></p>
<p>Create a shape archetype initialized to the provided mesh and material.</p>
<ul>
<li><code>mesh</code> : handle reference returned from <code>World.insert_asset()</code> using the <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-mesh">elodin.Mesh</a> class.</li>
<li><code>material</code> : handle reference returned from <code>World.insert_asset()</code> using the <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-material">elodin.Material</a> class.</li>
</ul>
</li>
</ul>
<h3 id="class-elodin-scene"><em>class</em> <code>elodin.Scene</code></h3>
<p><code>Scene</code> describes a complex scene entity loaded from a glb file.</p>
<ul>
<li>
<p><code>__init__(glb)</code> -&gt; <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-scene">elodin.Scene</a></p>
<p>Create a scene from a loaded file.</p>
<ul>
<li><code>glb</code> : handle reference returned from <code>World.insert_asset()</code> using the <code>elodin.Glb</code> class.</li>
</ul>
</li>
</ul>
<h4 id="example">Example</h4>
<p>This example creates a simple simulation with a spinning cuboid body:</p>
<pre data-lang="python" class="language-python z-code"><code class="language-python" data-lang="python"><span class="z-source z-python"><span class="z-meta z-statement z-import z-python"><span class="z-keyword z-control z-import z-python">import</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">elodin</span></span> <span class="z-keyword z-control z-import z-as z-python">as</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span></span></span>
</span><span class="z-source z-python"><span class="z-meta z-statement z-import z-python"><span class="z-keyword z-control z-import z-python">import</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">jax</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">numpy</span></span> <span class="z-keyword z-control z-import z-as z-python">as</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">jnp</span></span></span>
</span><span class="z-source z-python">
</span><span class="z-source z-python"><span class="z-meta z-annotation z-python"><span class="z-punctuation z-definition z-annotation z-python">@</span><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-annotation z-python"><span class="z-meta z-generic-name z-python">map</span></span></span></span>
</span><span class="z-source z-python"><span class="z-meta z-function z-python"><span class="z-storage z-type z-function z-python"><span class="z-keyword z-declaration z-function z-python">def</span></span> <span class="z-entity z-name z-function z-python"><span class="z-meta z-generic-name z-python">spin</span></span></span><span class="z-meta z-function z-parameters z-python"><span class="z-punctuation z-section z-parameters z-begin z-python">(</span></span><span class="z-meta z-function z-parameters z-python"><span class="z-variable z-parameter z-python">f</span></span><span class="z-meta z-function z-parameters z-annotation z-python"><span class="z-punctuation z-separator z-annotation z-parameter z-python">:</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">Force</span></span></span><span class="z-meta z-function z-parameters z-python"><span class="z-punctuation z-separator z-parameters z-python">,</span> <span class="z-variable z-parameter z-python">inertia</span></span><span class="z-meta z-function z-parameters z-annotation z-python"><span class="z-punctuation z-separator z-annotation z-parameter z-python">:</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">Inertia</span></span></span><span class="z-meta z-function z-parameters z-python"><span class="z-punctuation z-section z-parameters z-end z-python">)</span></span><span class="z-meta z-function z-python"> </span><span class="z-meta z-function z-annotation z-return z-python"><span class="z-punctuation z-separator z-annotation z-return z-python">-&gt;</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">Force</span></span></span><span class="z-meta z-function z-python"><span class="z-punctuation z-section z-function z-begin z-python">:</span></span>
</span><span class="z-source z-python">    <span class="z-keyword z-control z-flow z-return z-python">return</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">f</span></span> <span class="z-keyword z-operator z-arithmetic z-python">+</span> <span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">Force</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-variable z-parameter z-python">torque</span><span class="z-keyword z-operator z-assignment z-python">=</span><span class="z-meta z-group z-python"><span class="z-punctuation z-section z-group z-begin z-python">(</span><span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">inertia</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">mass</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span> <span class="z-keyword z-operator z-arithmetic z-python">*</span> <span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">jnp</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">array</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-meta z-sequence z-list z-python"><span class="z-punctuation z-section z-sequence z-begin z-python">[</span><span class="z-constant z-numeric z-float z-decimal z-python">0<span class="z-punctuation z-separator z-decimal z-python">.</span>0</span><span class="z-punctuation z-separator z-sequence z-python">,</span> <span class="z-constant z-numeric z-float z-decimal z-python">1<span class="z-punctuation z-separator z-decimal z-python">.</span>0</span><span class="z-punctuation z-separator z-sequence z-python">,</span> <span class="z-constant z-numeric z-float z-decimal z-python">0<span class="z-punctuation z-separator z-decimal z-python">.</span>0</span><span class="z-punctuation z-section z-sequence z-end z-python">]</span></span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span><span class="z-punctuation z-section z-group z-end z-python">)</span></span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span>
</span><span class="z-source z-python">
</span><span class="z-source z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">w</span></span> <span class="z-keyword z-operator z-assignment z-python">=</span> <span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">World</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span>
</span><span class="z-source z-python">
</span><span class="z-source z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">mesh</span></span> <span class="z-keyword z-operator z-assignment z-python">=</span> <span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">w</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">insert_asset</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">Mesh</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">cuboid</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-constant z-numeric z-float z-decimal z-python">0<span class="z-punctuation z-separator z-decimal z-python">.</span>1</span><span class="z-punctuation z-separator z-arguments z-python">,</span> <span class="z-constant z-numeric z-float z-decimal z-python">0<span class="z-punctuation z-separator z-decimal z-python">.</span>8</span><span class="z-punctuation z-separator z-arguments z-python">,</span> <span class="z-constant z-numeric z-float z-decimal z-python">0<span class="z-punctuation z-separator z-decimal z-python">.</span>3</span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span>
</span><span class="z-source z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">material</span></span> <span class="z-keyword z-operator z-assignment z-python">=</span> <span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">w</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">insert_asset</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">Material</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">color</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-constant z-numeric z-float z-decimal z-python">25<span class="z-punctuation z-separator z-decimal z-python">.</span>3</span><span class="z-punctuation z-separator z-arguments z-python">,</span> <span class="z-constant z-numeric z-float z-decimal z-python">18<span class="z-punctuation z-separator z-decimal z-python">.</span>4</span><span class="z-punctuation z-separator z-arguments z-python">,</span> <span class="z-constant z-numeric z-float z-decimal z-python">1<span class="z-punctuation z-separator z-decimal z-python">.</span>0</span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span>
</span><span class="z-source z-python">
</span><span class="z-source z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">cuboid_id</span></span> <span class="z-keyword z-operator z-assignment z-python">=</span> <span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">w</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">spawn</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-meta z-sequence z-list z-python"><span class="z-punctuation z-section z-sequence z-begin z-python">[</span><span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">Body</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span><span class="z-punctuation z-separator z-sequence z-python">,</span> <span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">Shape</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">mesh</span></span><span class="z-punctuation z-separator z-arguments z-python">,</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">material</span></span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span><span class="z-punctuation z-section z-sequence z-end z-python">]</span></span><span class="z-punctuation z-separator z-arguments z-python">,</span> <span class="z-variable z-parameter z-python">name</span><span class="z-keyword z-operator z-assignment z-python">=</span><span class="z-meta z-string z-python"><span class="z-string z-quoted z-double z-python"><span class="z-punctuation z-definition z-string z-begin z-python">&quot;</span></span></span><span class="z-meta z-string z-python"><span class="z-string z-quoted z-double z-python">cuboid<span class="z-punctuation z-definition z-string z-end z-python">&quot;</span></span></span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span>
</span><span class="z-source z-python">
</span><span class="z-source z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">camera</span></span> <span class="z-keyword z-operator z-assignment z-python">=</span> <span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">Panel</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">viewport</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-variable z-parameter z-python">pos</span><span class="z-keyword z-operator z-assignment z-python">=</span><span class="z-meta z-sequence z-list z-python"><span class="z-punctuation z-section z-sequence z-begin z-python">[</span><span class="z-constant z-numeric z-float z-decimal z-python">0<span class="z-punctuation z-separator z-decimal z-python">.</span>0</span><span class="z-punctuation z-separator z-sequence z-python">,</span> <span class="z-keyword z-operator z-arithmetic z-python">-</span><span class="z-constant z-numeric z-float z-decimal z-python">5<span class="z-punctuation z-separator z-decimal z-python">.</span>0</span><span class="z-punctuation z-separator z-sequence z-python">,</span> <span class="z-constant z-numeric z-float z-decimal z-python">0<span class="z-punctuation z-separator z-decimal z-python">.</span>0</span><span class="z-punctuation z-section z-sequence z-end z-python">]</span></span><span class="z-punctuation z-separator z-arguments z-python">,</span> <span class="z-variable z-parameter z-python">hdr</span><span class="z-keyword z-operator z-assignment z-python">=</span><span class="z-constant z-language z-python">True</span><span class="z-punctuation z-separator z-arguments z-python">,</span> <span class="z-variable z-parameter z-python">name</span><span class="z-keyword z-operator z-assignment z-python">=</span><span class="z-meta z-string z-python"><span class="z-string z-quoted z-double z-python"><span class="z-punctuation z-definition z-string z-begin z-python">&quot;</span></span></span><span class="z-meta z-string z-python"><span class="z-string z-quoted z-double z-python">camera<span class="z-punctuation z-definition z-string z-end z-python">&quot;</span></span></span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span>
</span><span class="z-source z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">graph</span></span> <span class="z-keyword z-operator z-assignment z-python">=</span> <span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">Panel</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">graph</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span>
</span></span><span class="z-source z-python"><span class="z-meta z-function-call z-arguments z-python">    <span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">GraphEntity</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">cuboid_id</span></span><span class="z-punctuation z-separator z-arguments z-python">,</span> <span class="z-keyword z-operator z-unpacking z-sequence z-python">*</span><span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">Component</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">index</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">WorldPos</span></span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span><span class="z-meta z-item-access z-python"><span class="z-punctuation z-section z-brackets z-begin z-python">[</span></span><span class="z-meta z-item-access z-arguments z-python"><span class="z-punctuation z-separator z-slice z-python">:</span><span class="z-constant z-numeric z-integer z-decimal z-python">4</span></span><span class="z-meta z-item-access z-python"><span class="z-punctuation z-section z-brackets z-end z-python">]</span></span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span><span class="z-punctuation z-separator z-arguments z-python">,</span> <span class="z-variable z-parameter z-python">name</span><span class="z-keyword z-operator z-assignment z-python">=</span><span class="z-meta z-string z-python"><span class="z-string z-quoted z-double z-python"><span class="z-punctuation z-definition z-string z-begin z-python">&quot;</span></span></span><span class="z-meta z-string z-python"><span class="z-string z-quoted z-double z-python">graph<span class="z-punctuation z-definition z-string z-end z-python">&quot;</span></span></span>
</span></span><span class="z-source z-python"><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span>
</span><span class="z-source z-python">
</span><span class="z-source z-python"><span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">w</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">spawn</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">Panel</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">vsplit</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">camera</span></span><span class="z-punctuation z-separator z-arguments z-python">,</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">graph</span></span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span><span class="z-punctuation z-separator z-arguments z-python">,</span> <span class="z-variable z-parameter z-python">name</span><span class="z-keyword z-operator z-assignment z-python">=</span><span class="z-meta z-string z-python"><span class="z-string z-quoted z-double z-python"><span class="z-punctuation z-definition z-string z-begin z-python">&quot;</span></span></span><span class="z-meta z-string z-python"><span class="z-string z-quoted z-double z-python">main_view<span class="z-punctuation z-definition z-string z-end z-python">&quot;</span></span></span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span>
</span><span class="z-source z-python">
</span><span class="z-source z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">sys</span></span> <span class="z-keyword z-operator z-assignment z-python">=</span> <span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">six_dof</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-variable z-parameter z-python">sys</span><span class="z-keyword z-operator z-assignment z-python">=</span><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">spin</span></span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span>
</span><span class="z-source z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">sim</span></span> <span class="z-keyword z-operator z-assignment z-python">=</span> <span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">w</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">run</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">sys</span></span><span class="z-punctuation z-separator z-arguments z-python">,</span> <span class="z-variable z-parameter z-python">sim_time_step</span><span class="z-keyword z-operator z-assignment z-python">=</span><span class="z-constant z-numeric z-float z-decimal z-python">1<span class="z-punctuation z-separator z-decimal z-python">.</span>0</span> <span class="z-keyword z-operator z-arithmetic z-python">/</span> <span class="z-constant z-numeric z-float z-decimal z-python">120<span class="z-punctuation z-separator z-decimal z-python">.</span>0</span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span>
</span></code></pre>
<p><br></br></p>
<h2 id="6-degrees-of-freedom-model">6 Degrees of Freedom Model</h2>
<p>Elodin has a built-in <a href="https://en.wikipedia.org/wiki/Six_degrees_of_freedom">6 Degrees of Freedom</a> (6DoF) system
implementation for simulating <a href="https://en.m.wikipedia.org/wiki/Rigid_body">rigid bodies</a>, such as flight vehicles.
You can review the implementation <a href="https://github.com/elodin-sys/elodin/blob/332957c41f609e1ccee36dbc48750ea59001c817/libs/nox-ecs/src/six_dof.rs">here</a>.
Using the associated <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-body">elodin.Body</a> archetype and prebuilt components, we can create a 6DoF system that aligns closely with this
<a href="https://www.mathworks.com/help/aeroblks/6dofquaternion.html">familiar model</a> from Simulink.</p>
<h3 id="function-elodin-six-dof"><em>function</em> <code>elodin.six_dof</code></h3>
<ul>
<li>
<p><code>six_dof(time_step, sys, integrator)</code> -&gt; <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#elodin-system">elodin.System</a></p>
<p>Create a system that models the 6DoF dynamics of a rigid body in 3D space. The provided set of systems can be integrated
as effectors using the provided <code>integrator</code> and simulated in a world with a given <code>time_step</code>.</p>
<ul>
<li><code>time_step</code> : <code>float</code>, The time step used when integrating a body's acceleration into its velocity and position. Defaults
to the <code>sim_time_step</code> provided in World.run(...) if unset</li>
<li><code>sys</code> : one or more <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#elodin-system">elodin.System</a> instances used as effectors</li>
<li><code>integrator</code> : <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-integrator">elodin.Integrator</a>, default is <code>Integrator.Rk4</code></li>
</ul>
</li>
</ul>
<h3 id="class-elodin-integrator"><em>class</em> <code>elodin.Integrator</code></h3>
<ul>
<li>
<p><code>elodin.Integrator.Rk4</code> -&gt; <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-integrator">elodin.Integrator</a></p>
<p>Runge-Kutta 4th Order (RK4) Integrator: Elodin provides a built-in implementation for a <a href="https://en.wikipedia.org/wiki/Runge%E2%80%93Kutta_methods">4th order Runge-Kutta integrator</a>.
The RK4 integrator is a numerical method used to solve ordinary differential equations. You can review the implementation <a href="https://github.com/elodin-sys/elodin/blob/332957c41f609e1ccee36dbc48750ea59001c817/libs/nox-ecs/src/integrator/rk4.rs">here</a>.</p>
</li>
<li>
<p><code>elodin.Integrator.SemiImplicit</code> -&gt; <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-integrator">elodin.Integrator</a></p>
<p>Semi-Implicit Integrator: Elodin provides a built-in implementation for a <a href="https://en.wikipedia.org/wiki/Semi-implicit_Euler_method">semi-implicit Euler integrator</a>.
The semi-implicit integrator is a numerical method used to solve ordinary differential equations. You can review the implementation <a href="https://github.com/elodin-sys/elodin/blob/332957c41f609e1ccee36dbc48750ea59001c817/libs/nox-ecs/src/integrator/semi_implicit.rs">here</a>.</p>
</li>
</ul>
<h3 id="class-elodin-body"><em>class</em> <code>elodin.Body</code></h3>
<p><code>Body</code> is an archetype that represents the state of a rigid body with six degrees of freedom. It provides all of the spatial information necessary for the <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#function-elodin-six-dof">elodin.six_dof</a> system</p>
<ul>
<li>
<p><code>__init__(world_pos, world_vel, inertia, force, world_accel)</code> -&gt; <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-body">elodin.Body</a></p>
<p>Create a body archetype initialized to the provided values.</p>
<ul>
<li><code>world_pos</code> : <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-worldpos">elodin.WorldPos</a>, default is SpatialTransform()</li>
<li><code>world_vel</code> : <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-worldvel">elodin.WorldVel</a>, default is SpatialMotion()</li>
<li><code>inertia</code> : <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-inertia">elodin.Inertia</a>, default is SpatialInertia(1.0)</li>
<li><code>force</code> : <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-force">elodin.Force</a>, default is SpatialForce()</li>
<li><code>world_accel</code> : <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-worldaccel">elodin.WorldAccel</a>, default is SpatialMotion()</li>
</ul>
<div class="el-warning warning container-fluid">
    <div class="row g-0 align-items-center">
        <div class="col-1" style="padding: 4px">
            <i class="bx bx-error" style="font-size: 1.5rem"></i>
        </div>
        <div class="col-15"><p>Inertia is in body frame, all other representations are in the world frame.</p>
</div>
    </div>
</div>
<h4 id="class-elodin-worldpos"><em>class</em> <code>elodin.WorldPos</code></h4>
<p><code>WorldPos</code> is an annotated <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-spatialtransform">elodin.SpatialTransform</a> component that represents the world frame position of a body in 3D space. See <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-spatialtransform">elodin.SpatialTransform</a> for usage.</p>
<h4 id="class-elodin-worldvel"><em>class</em> <code>elodin.WorldVel</code></h4>
<p><code>WorldVel</code> is an annotated <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-spatialmotion">elodin.SpatialMotion</a> component that represents the world frame velocity of a body in 3D space. See <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-spatialmotion">elodin.SpatialMotion</a> for usage.</p>
<h4 id="class-elodin-inertia"><em>class</em> <code>elodin.Inertia</code></h4>
<p><code>Inertia</code> is an annotated <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-spatialinertia">elodin.SpatialInertia</a> component that represents the body frame inertia of a body in 3D space. See <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-spatialinertia">elodin.SpatialInertia</a> for usage.</p>
<h4 id="class-elodin-force"><em>class</em> <code>elodin.Force</code></h4>
<p><code>Force</code> is an annotated <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-spatialforce">elodin.SpatialForce</a> component that represents the world frame forces applied to a body in 3D space. See <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-spatialforce">elodin.SpatialForce</a> for usage.</p>
<h4 id="class-elodin-worldaccel"><em>class</em> <code>elodin.WorldAccel</code></h4>
<p><code>WorldAccel</code> is an annotated <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-spatialmotion">elodin.SpatialMotion</a> component that represents the world frame acceleration of a body. See <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-spatialmotion">elodin.SpatialMotion</a> for usage.</p>
</li>
</ul>
<h4 id="example-1">Example</h4>
<p>A simple example of a 6DoF system that models gravity acting on a rigid body in 3D space.</p>
<pre data-lang="python" class="language-python z-code"><code class="language-python" data-lang="python"><span class="z-source z-python"><span class="z-meta z-statement z-import z-python"><span class="z-keyword z-control z-import z-python">import</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">elodin</span></span> <span class="z-keyword z-control z-import z-as z-python">as</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span></span></span>
</span><span class="z-source z-python"><span class="z-meta z-statement z-import z-python"><span class="z-keyword z-control z-import z-python">import</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">jax</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">numpy</span></span> <span class="z-keyword z-control z-import z-as z-python">as</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">jnp</span></span></span>
</span><span class="z-source z-python">
</span><span class="z-source z-python"><span class="z-meta z-qualified-name z-python"><span class="z-variable z-other z-constant z-python">SIM_TIME_STEP</span></span> <span class="z-keyword z-operator z-assignment z-python">=</span> <span class="z-constant z-numeric z-float z-decimal z-python">1<span class="z-punctuation z-separator z-decimal z-python">.</span>0</span> <span class="z-keyword z-operator z-arithmetic z-python">/</span> <span class="z-constant z-numeric z-float z-decimal z-python">120<span class="z-punctuation z-separator z-decimal z-python">.</span>0</span>
</span><span class="z-source z-python">
</span><span class="z-source z-python"><span class="z-meta z-annotation z-python"><span class="z-punctuation z-definition z-annotation z-python">@</span><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-annotation z-python"><span class="z-meta z-generic-name z-python">map</span></span></span></span>
</span><span class="z-source z-python"><span class="z-meta z-function z-python"><span class="z-storage z-type z-function z-python"><span class="z-keyword z-declaration z-function z-python">def</span></span> <span class="z-entity z-name z-function z-python"><span class="z-meta z-generic-name z-python">gravity</span></span></span><span class="z-meta z-function z-parameters z-python"><span class="z-punctuation z-section z-parameters z-begin z-python">(</span></span><span class="z-meta z-function z-parameters z-python"><span class="z-variable z-parameter z-python">f</span></span><span class="z-meta z-function z-parameters z-annotation z-python"><span class="z-punctuation z-separator z-annotation z-parameter z-python">:</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">Force</span></span></span><span class="z-meta z-function z-parameters z-python"><span class="z-punctuation z-separator z-parameters z-python">,</span> <span class="z-variable z-parameter z-python">inertia</span></span><span class="z-meta z-function z-parameters z-annotation z-python"><span class="z-punctuation z-separator z-annotation z-parameter z-python">:</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">Inertia</span></span></span><span class="z-meta z-function z-parameters z-python"><span class="z-punctuation z-section z-parameters z-end z-python">)</span></span><span class="z-meta z-function z-python"> </span><span class="z-meta z-function z-annotation z-return z-python"><span class="z-punctuation z-separator z-annotation z-return z-python">-&gt;</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">Force</span></span></span><span class="z-meta z-function z-python"><span class="z-punctuation z-section z-function z-begin z-python">:</span></span>
</span><span class="z-source z-python">    <span class="z-keyword z-control z-flow z-return z-python">return</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">f</span></span> <span class="z-keyword z-operator z-arithmetic z-python">+</span> <span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">Force</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-variable z-parameter z-python">linear</span><span class="z-keyword z-operator z-assignment z-python">=</span><span class="z-meta z-group z-python"><span class="z-punctuation z-section z-group z-begin z-python">(</span><span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">inertia</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">mass</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span> <span class="z-keyword z-operator z-arithmetic z-python">*</span> <span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">jnp</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">array</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-meta z-sequence z-list z-python"><span class="z-punctuation z-section z-sequence z-begin z-python">[</span><span class="z-constant z-numeric z-float z-decimal z-python">0<span class="z-punctuation z-separator z-decimal z-python">.</span>0</span><span class="z-punctuation z-separator z-sequence z-python">,</span> <span class="z-keyword z-operator z-arithmetic z-python">-</span><span class="z-constant z-numeric z-float z-decimal z-python">9<span class="z-punctuation z-separator z-decimal z-python">.</span>81</span><span class="z-punctuation z-separator z-sequence z-python">,</span> <span class="z-constant z-numeric z-float z-decimal z-python">0<span class="z-punctuation z-separator z-decimal z-python">.</span>0</span><span class="z-punctuation z-section z-sequence z-end z-python">]</span></span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span><span class="z-punctuation z-section z-group z-end z-python">)</span></span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span>
</span><span class="z-source z-python">
</span><span class="z-source z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">w</span></span> <span class="z-keyword z-operator z-assignment z-python">=</span> <span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">World</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span>
</span><span class="z-source z-python"><span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">w</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">spawn</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">Body</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span><span class="z-punctuation z-separator z-arguments z-python">,</span> <span class="z-variable z-parameter z-python">name</span><span class="z-keyword z-operator z-assignment z-python">=</span><span class="z-meta z-string z-python"><span class="z-string z-quoted z-double z-python"><span class="z-punctuation z-definition z-string z-begin z-python">&quot;</span></span></span><span class="z-meta z-string z-python"><span class="z-string z-quoted z-double z-python">example<span class="z-punctuation z-definition z-string z-end z-python">&quot;</span></span></span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span>
</span><span class="z-source z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">sys</span></span> <span class="z-keyword z-operator z-assignment z-python">=</span> <span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">six_dof</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-variable z-parameter z-python">sys</span><span class="z-keyword z-operator z-assignment z-python">=</span><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">gravity</span></span><span class="z-punctuation z-separator z-arguments z-python">,</span> <span class="z-variable z-parameter z-python">integrator</span><span class="z-keyword z-operator z-assignment z-python">=</span><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">Integrator</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">Rk4</span></span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span>
</span><span class="z-source z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">sim</span></span> <span class="z-keyword z-operator z-assignment z-python">=</span> <span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">w</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">run</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">sys</span></span><span class="z-punctuation z-separator z-arguments z-python">,</span> <span class="z-meta z-qualified-name z-python"><span class="z-variable z-other z-constant z-python">SIM_TIME_STEP</span></span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span>
</span></code></pre>
<div class="el-warning warning container-fluid">
    <div class="row g-0 align-items-center">
        <div class="col-1" style="padding: 4px">
            <i class="bx bx-error" style="font-size: 1.5rem"></i>
        </div>
        <div class="col-15"><p>You should never need to use the six_dof time_step parameter unless you need to simulate a sensor at a specific frequency different from the world simulation. This is an advanced feature and should be used with caution, and likely a symptom of needing to move your testing into your flight software &amp; communicate with the simulation over Impel.</p>
</div>
    </div>
</div>
<pre data-lang="python" class="language-python z-code"><code class="language-python" data-lang="python"><span class="z-source z-python"><span class="z-comment z-line z-number-sign z-python"><span class="z-punctuation z-definition z-comment z-python">#</span> lower frequency time step
</span></span><span class="z-source z-python"><span class="z-meta z-qualified-name z-python"><span class="z-variable z-other z-constant z-python">SIX_DOF_TIME_STEP</span></span> <span class="z-keyword z-operator z-assignment z-python">=</span> <span class="z-constant z-numeric z-float z-decimal z-python">1<span class="z-punctuation z-separator z-decimal z-python">.</span>0</span> <span class="z-keyword z-operator z-arithmetic z-python">/</span> <span class="z-constant z-numeric z-float z-decimal z-python">60<span class="z-punctuation z-separator z-decimal z-python">.</span>0</span>
</span><span class="z-source z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">sys</span></span> <span class="z-keyword z-operator z-assignment z-python">=</span> <span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">six_dof</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-variable z-parameter z-python">time_step</span><span class="z-keyword z-operator z-assignment z-python">=</span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-other z-constant z-python">SIX_DOF_TIME_STEP</span></span><span class="z-punctuation z-separator z-arguments z-python">,</span> <span class="z-variable z-parameter z-python">sys</span><span class="z-keyword z-operator z-assignment z-python">=</span><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">gravity</span></span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span>
</span><span class="z-source z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">sim</span></span> <span class="z-keyword z-operator z-assignment z-python">=</span> <span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">w</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">run</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">sys</span></span><span class="z-punctuation z-separator z-arguments z-python">,</span> <span class="z-meta z-qualified-name z-python"><span class="z-variable z-other z-constant z-python">SIM_TIME_STEP</span></span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span>
</span></code></pre>
<p><br></br></p>
<h2 id="components">Components</h2>
<p>Components are containers of data that is associated with an entity. See <a href="/reference/overview#ecs-data-model">ECS Data Model</a> for more context on entities and components.</p>
<p>To define a new component, add <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-component">elodin.Component</a> as metadata to a base class using <a href="https://docs.python.org/3/library/typing.html#typing.Annotated">typing.Annotated</a>. The base class can be <a href="https://jax.readthedocs.io/en/latest/_autosummary/jax.Array.html#jax.Array">jax.Array</a> or some other container of array data. This is an example of a component that annotates <a href="https://jax.readthedocs.io/en/latest/_autosummary/jax.Array.html#jax.Array">jax.Array</a>:</p>
<pre data-lang="python" class="language-python z-code"><code class="language-python" data-lang="python"><span class="z-source z-python"><span class="z-meta z-statement z-import z-python"><span class="z-keyword z-control z-import z-python">import</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">elodin</span></span> <span class="z-keyword z-control z-import z-as z-python">as</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span></span></span>
</span><span class="z-source z-python">
</span><span class="z-source z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">Wind</span></span> <span class="z-keyword z-operator z-assignment z-python">=</span> <span class="z-meta z-item-access z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">typing</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">Annotated</span></span></span><span class="z-meta z-item-access z-python"><span class="z-punctuation z-section z-brackets z-begin z-python">[</span></span><span class="z-meta z-item-access z-arguments z-python">
</span></span><span class="z-source z-python"><span class="z-meta z-item-access z-arguments z-python">    <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">jax</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">Array</span></span>,
</span></span><span class="z-source z-python"><span class="z-meta z-item-access z-arguments z-python">    <span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">Component</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span>
</span></span></span><span class="z-source z-python"><span class="z-meta z-item-access z-arguments z-python"><span class="z-meta z-function-call z-arguments z-python">        <span class="z-meta z-string z-python"><span class="z-string z-quoted z-double z-python"><span class="z-punctuation z-definition z-string z-begin z-python">&quot;</span></span></span><span class="z-meta z-string z-python"><span class="z-string z-quoted z-double z-python">wind<span class="z-punctuation z-definition z-string z-end z-python">&quot;</span></span></span><span class="z-punctuation z-separator z-arguments z-python">,</span>
</span></span></span><span class="z-source z-python"><span class="z-meta z-item-access z-arguments z-python"><span class="z-meta z-function-call z-arguments z-python">        <span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">ComponentType</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">PrimitiveType</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">F64</span></span><span class="z-punctuation z-separator z-arguments z-python">,</span> <span class="z-meta z-sequence z-tuple z-python"><span class="z-punctuation z-section z-sequence z-begin z-python">(</span><span class="z-constant z-numeric z-integer z-decimal z-python">3</span><span class="z-punctuation z-separator z-sequence z-python">,</span><span class="z-punctuation z-section z-sequence z-end z-python">)</span></span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span><span class="z-punctuation z-separator z-arguments z-python">,</span>
</span></span></span><span class="z-source z-python"><span class="z-meta z-item-access z-arguments z-python"><span class="z-meta z-function-call z-arguments z-python">        <span class="z-variable z-parameter z-python">metadata</span><span class="z-keyword z-operator z-assignment z-python">=</span><span class="z-meta z-mapping z-python"><span class="z-punctuation z-section z-mapping z-begin z-python">{</span></span><span class="z-meta z-mapping z-key z-python"><span class="z-meta z-string z-python"><span class="z-string z-quoted z-double z-python"><span class="z-punctuation z-definition z-string z-begin z-python">&quot;</span></span></span><span class="z-meta z-string z-python"><span class="z-string z-quoted z-double z-python">element_names<span class="z-punctuation z-definition z-string z-end z-python">&quot;</span></span></span></span><span class="z-meta z-mapping z-python"><span class="z-punctuation z-separator z-mapping z-key-value z-python">:</span></span><span class="z-meta z-mapping z-python"> </span><span class="z-meta z-mapping z-value z-python"><span class="z-meta z-string z-python"><span class="z-string z-quoted z-double z-python"><span class="z-punctuation z-definition z-string z-begin z-python">&quot;</span></span></span><span class="z-meta z-string z-python"><span class="z-string z-quoted z-double z-python">x,y,z<span class="z-punctuation z-definition z-string z-end z-python">&quot;</span></span></span></span><span class="z-meta z-mapping z-python"><span class="z-punctuation z-section z-mapping z-end z-python">}</span></span><span class="z-punctuation z-separator z-arguments z-python">,</span>
</span></span></span><span class="z-source z-python"><span class="z-meta z-item-access z-arguments z-python"><span class="z-meta z-function-call z-arguments z-python">    <span class="z-punctuation z-section z-arguments z-end z-python">)</span></span>,
</span></span><span class="z-source z-python"><span class="z-meta z-item-access z-arguments z-python"></span><span class="z-meta z-item-access z-python"><span class="z-punctuation z-section z-brackets z-end z-python">]</span></span>
</span></code></pre>
<h3 id="class-elodin-component"><em>class</em> <code>elodin.Component</code></h3>
<p>A container of component metadata.</p>
<ul>
<li>
<p><code>__init__(name, type = None, asset = False, metadata = {})</code> -&gt; <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-component">elodin.Component</a></p>
<p>Create a new component with:</p>
<ul>
<li>Unique name (e.g. "world_pos, "inertia").</li>
<li>Component type information (via <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-componenttype">elodin.ComponentType</a>). This is optional if the base class already provides component type information as part of <code>__metadata__</code>, which is the case for <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-quaternion">elodin.Quaternion</a>, <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-edge">elodin.Edge</a>, and all <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#spatial-vector-algebra">spatial vector algebra</a> classes.</li>
<li>Flag indicating whether the component is an asset (e.g. a mesh, texture, etc.).</li>
<li>Other metadata that is optional (e.g. description, units, labels, etc.).</li>
</ul>
<pre data-lang="python" class="language-python z-code"><code class="language-python" data-lang="python"><span class="z-source z-python"><span class="z-meta z-statement z-import z-python"><span class="z-keyword z-control z-import z-python">import</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">elodin</span></span> <span class="z-keyword z-control z-import z-as z-python">as</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span></span></span>
</span><span class="z-source z-python">
</span><span class="z-source z-python"><span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">Component</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span>
</span></span><span class="z-source z-python"><span class="z-meta z-function-call z-arguments z-python">    <span class="z-meta z-string z-python"><span class="z-string z-quoted z-double z-python"><span class="z-punctuation z-definition z-string z-begin z-python">&quot;</span></span></span><span class="z-meta z-string z-python"><span class="z-string z-quoted z-double z-python">wind<span class="z-punctuation z-definition z-string z-end z-python">&quot;</span></span></span><span class="z-punctuation z-separator z-arguments z-python">,</span>
</span></span><span class="z-source z-python"><span class="z-meta z-function-call z-arguments z-python">    <span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">ComponentType</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">PrimitiveType</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">F64</span></span><span class="z-punctuation z-separator z-arguments z-python">,</span> <span class="z-meta z-sequence z-tuple z-python"><span class="z-punctuation z-section z-sequence z-begin z-python">(</span><span class="z-constant z-numeric z-integer z-decimal z-python">3</span><span class="z-punctuation z-separator z-sequence z-python">,</span><span class="z-punctuation z-section z-sequence z-end z-python">)</span></span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span><span class="z-punctuation z-separator z-arguments z-python">,</span>
</span></span><span class="z-source z-python"><span class="z-meta z-function-call z-arguments z-python">    <span class="z-variable z-parameter z-python">metadata</span><span class="z-keyword z-operator z-assignment z-python">=</span><span class="z-meta z-mapping z-python"><span class="z-punctuation z-section z-mapping z-begin z-python">{</span></span><span class="z-meta z-mapping z-key z-python"><span class="z-meta z-string z-python"><span class="z-string z-quoted z-double z-python"><span class="z-punctuation z-definition z-string z-begin z-python">&quot;</span></span></span><span class="z-meta z-string z-python"><span class="z-string z-quoted z-double z-python">element_names<span class="z-punctuation z-definition z-string z-end z-python">&quot;</span></span></span></span><span class="z-meta z-mapping z-python"><span class="z-punctuation z-separator z-mapping z-key-value z-python">:</span></span><span class="z-meta z-mapping z-python"> </span><span class="z-meta z-mapping z-value z-python"><span class="z-meta z-string z-python"><span class="z-string z-quoted z-double z-python"><span class="z-punctuation z-definition z-string z-begin z-python">&quot;</span></span></span><span class="z-meta z-string z-python"><span class="z-string z-quoted z-double z-python">x,y,z<span class="z-punctuation z-definition z-string z-end z-python">&quot;</span></span></span></span><span class="z-meta z-mapping z-python"><span class="z-punctuation z-section z-mapping z-end z-python">}</span></span><span class="z-punctuation z-separator z-arguments z-python">,</span>
</span></span><span class="z-source z-python"><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span>,
</span></code></pre>
<p>The above example defines a "wind" component that is a 3D vector of <code>float64</code> values. The "element_names" entry is an example of optional metadata. It specifies the labels for each element of the vector that are displayed in the component inspector.</p>
</li>
<li>
<p><code>Component.name(component)</code> -&gt; <code>string</code></p>
<p>The unique name of the component.</p>
</li>
<li>
<p><code>Component.index(component)</code> -&gt; <code>elodin.ShapeIndexer</code></p>
<p>A shape indexer that can be used to access the component data.</p>
</li>
</ul>
<h3 id="class-elodin-componenttype"><em>class</em> <code>elodin.ComponentType</code></h3>
<p><code>ComponentType</code> describes the shape and data type of a component. The shape is a tuple of integers that specifies the size of each dimension (e.g. <code>()</code> for scalars, <code>(3,)</code> for 3D vectors). The data type is an <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-primitivetype">elodin.PrimitiveType</a>.</p>
<ul>
<li>
<p><code>__init__(dtype, shape)</code> -&gt; <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-componenttype">elodin.ComponentType</a></p>
<p>Create a component type from a data type and shape.</p>
</li>
</ul>
<h3 id="class-elodin-edge"><em>class</em> <code>elodin.Edge</code></h3>
<p>An edge is a relationship between two entities. See <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-graphquery">elodin.GraphQuery</a> for information on how to use edges in graph queries.</p>
<ul>
<li>
<p><code>__init__(left, right)</code> -&gt; <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-edge">elodin.Edge</a></p>
<p>Create an edge between two entities given their unique ids.</p>
</li>
</ul>
<p><br></br></p>
<h2 id="archetypes">Archetypes</h2>
<p>An archetype is a combination of components with a unique name. To define a new archetype, create a subclass of <code>elodin.Archetype</code> with the desired components as fields. Here is an example of an archetype for a kalman filter:</p>
<div class="el-notice warning container-fluid">
    <div class="row g-0 align-items-center">
        <div class="col-1" style="padding: 4px">
            <i class="bx bx-error-circle" style="font-size: 1.5rem"></i>
        </div>
        <div class="col-15"><p>To automatically generate <code>__init__()</code>, you can use the <a href="https://docs.python.org/3/library/dataclasses.html">@dataclass decorator.</a></p>
</div>
    </div>
</div>
<pre data-lang="python" class="language-python z-code"><code class="language-python" data-lang="python"><span class="z-source z-python"><span class="z-meta z-statement z-import z-python"><span class="z-keyword z-control z-import z-python">import</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">elodin</span></span> <span class="z-keyword z-control z-import z-as z-python">as</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span></span></span>
</span><span class="z-source z-python"><span class="z-meta z-statement z-import z-python"><span class="z-keyword z-control z-import z-from z-python">from</span></span><span class="z-meta z-statement z-import z-python"><span class="z-meta z-import-source z-python"> <span class="z-meta z-import-path z-python"><span class="z-meta z-import-name z-python">dataclasses</span></span> <span class="z-meta z-statement z-import z-python"><span class="z-keyword z-control z-import z-python">import</span></span></span></span><span class="z-meta z-statement z-import z-python"></span><span class="z-meta z-statement z-import z-python"> <span class="z-meta z-generic-name z-python">dataclass</span></span>
</span><span class="z-source z-python">
</span><span class="z-source z-python"><span class="z-meta z-annotation z-python"><span class="z-punctuation z-definition z-annotation z-python">@</span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-annotation z-python"><span class="z-meta z-generic-name z-python">dataclass</span></span></span></span>
</span><span class="z-source z-python"><span class="z-meta z-class z-python"><span class="z-storage z-type z-class z-python"><span class="z-keyword z-declaration z-class z-python">class</span></span> <span class="z-entity z-name z-class z-python"><span class="z-meta z-generic-name z-python">KalmanFilter</span></span><span class="z-meta z-class z-inheritance z-python"><span class="z-punctuation z-section z-inheritance z-begin z-python">(</span></span></span><span class="z-meta z-class z-inheritance z-python"><span class="z-entity z-other z-inherited-class z-python">el<span class="z-punctuation z-accessor z-dot z-python">.</span>Archetype</span><span class="z-punctuation z-section z-inheritance z-end z-python">)</span></span><span class="z-meta z-class z-python"><span class="z-punctuation z-section z-class z-begin z-python">:</span></span>
</span><span class="z-source z-python">    <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">p</span></span><span class="z-punctuation z-separator z-annotation z-variable z-python">:</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">P</span></span>
</span><span class="z-source z-python">    <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">att_est</span></span><span class="z-punctuation z-separator z-annotation z-variable z-python">:</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">AttEst</span></span>
</span><span class="z-source z-python">    <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">ang_vel_est</span></span><span class="z-punctuation z-separator z-annotation z-variable z-python">:</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">AngVelEst</span></span>
</span><span class="z-source z-python">    <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">bias_est</span></span><span class="z-punctuation z-separator z-annotation z-variable z-python">:</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">BiasEst</span></span>
</span></code></pre>
<p>The archetype can then be used to attach components to entities:</p>
<pre data-lang="python" class="language-python z-code"><code class="language-python" data-lang="python"><span class="z-source z-python"><span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">world</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">insert</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span>
</span></span><span class="z-source z-python"><span class="z-meta z-function-call z-arguments z-python">    <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">satellite</span></span><span class="z-punctuation z-separator z-arguments z-python">,</span>
</span></span><span class="z-source z-python"><span class="z-meta z-function-call z-arguments z-python">    <span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">KalmanFilter</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span>
</span></span></span><span class="z-source z-python"><span class="z-meta z-function-call z-arguments z-python"><span class="z-meta z-function-call z-arguments z-python">        <span class="z-variable z-parameter z-python">p</span><span class="z-keyword z-operator z-assignment z-python">=</span><span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">np</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">identity</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-constant z-numeric z-integer z-decimal z-python">6</span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span><span class="z-punctuation z-separator z-arguments z-python">,</span>
</span></span></span><span class="z-source z-python"><span class="z-meta z-function-call z-arguments z-python"><span class="z-meta z-function-call z-arguments z-python">        <span class="z-variable z-parameter z-python">att_est</span><span class="z-keyword z-operator z-assignment z-python">=</span><span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">Quaternion</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">identity</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span><span class="z-punctuation z-separator z-arguments z-python">,</span>
</span></span></span><span class="z-source z-python"><span class="z-meta z-function-call z-arguments z-python"><span class="z-meta z-function-call z-arguments z-python">        <span class="z-variable z-parameter z-python">ang_vel_est</span><span class="z-keyword z-operator z-assignment z-python">=</span><span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">np</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">zeros</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-constant z-numeric z-integer z-decimal z-python">3</span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span><span class="z-punctuation z-separator z-arguments z-python">,</span>
</span></span></span><span class="z-source z-python"><span class="z-meta z-function-call z-arguments z-python"><span class="z-meta z-function-call z-arguments z-python">        <span class="z-variable z-parameter z-python">bias_est</span><span class="z-keyword z-operator z-assignment z-python">=</span><span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">np</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">zeros</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-constant z-numeric z-integer z-decimal z-python">3</span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span><span class="z-punctuation z-separator z-arguments z-python">,</span>
</span></span></span><span class="z-source z-python"><span class="z-meta z-function-call z-arguments z-python"><span class="z-meta z-function-call z-arguments z-python">    <span class="z-punctuation z-section z-arguments z-end z-python">)</span></span><span class="z-punctuation z-separator z-arguments z-python">,</span>
</span></span><span class="z-source z-python"><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span>
</span></code></pre>
<p><br></br></p>
<h2 id="systems">Systems</h2>
<p>Systems are the building blocks of simulation; they are functions that operate on a set of input components and produce a set of output components. Elodin provides decorators that allow for systems to be easily defined from functions.</p>
<h3 id="elodin-system"><code>@elodin.system</code></h3>
<div class="el-notice warning container-fluid">
    <div class="row g-0 align-items-center">
        <div class="col-1" style="padding: 4px">
            <i class="bx bx-error-circle" style="font-size: 1.5rem"></i>
        </div>
        <div class="col-15"><p>This is a lower-level primitive; for many cases <code>@elodin.map</code>  a wrapper around <code>@elodin.system</code>  is easier to use.</p>
</div>
    </div>
</div>
<p>This is a lower-level API for defining a system. A function decorated with <code>@elodin.system</code> accepts special parameter types (such as <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-query">elodin.Query</a> and <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-graphquery">elodin.GraphQuery</a>) that specify what data the system needs access to. It returns an <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-query">elodin.Query</a> containing one or more <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#components">components</a>. Some examples of <code>@elodin.system</code> are:</p>
<pre data-lang="python" class="language-python z-code"><code class="language-python" data-lang="python"><span class="z-source z-python"><span class="z-meta z-statement z-import z-python"><span class="z-keyword z-control z-import z-python">import</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">elodin</span></span> <span class="z-keyword z-control z-import z-as z-python">as</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span></span></span>
</span><span class="z-source z-python">
</span><span class="z-source z-python"><span class="z-meta z-annotation z-python"><span class="z-punctuation z-definition z-annotation z-python">@</span><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-annotation z-python"><span class="z-meta z-generic-name z-python">system</span></span></span></span>
</span><span class="z-source z-python"><span class="z-meta z-function z-python"><span class="z-storage z-type z-function z-python"><span class="z-keyword z-declaration z-function z-python">def</span></span> <span class="z-entity z-name z-function z-python"><span class="z-meta z-generic-name z-python">gravity</span></span></span><span class="z-meta z-function z-parameters z-python"><span class="z-punctuation z-section z-parameters z-begin z-python">(</span></span><span class="z-meta z-function z-parameters z-python">
</span></span><span class="z-source z-python"><span class="z-meta z-function z-parameters z-python">    <span class="z-variable z-parameter z-python">graph</span></span><span class="z-meta z-function z-parameters z-annotation z-python"><span class="z-punctuation z-separator z-annotation z-parameter z-python">:</span> <span class="z-meta z-item-access z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">GraphQuery</span></span></span><span class="z-meta z-item-access z-python"><span class="z-punctuation z-section z-brackets z-begin z-python">[</span></span><span class="z-meta z-item-access z-arguments z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">GravityEdge</span></span></span><span class="z-meta z-item-access z-python"><span class="z-punctuation z-section z-brackets z-end z-python">]</span></span></span><span class="z-meta z-function z-parameters z-python"><span class="z-punctuation z-separator z-parameters z-python">,</span>
</span></span><span class="z-source z-python"><span class="z-meta z-function z-parameters z-python">    <span class="z-variable z-parameter z-python">query</span></span><span class="z-meta z-function z-parameters z-annotation z-python"><span class="z-punctuation z-separator z-annotation z-parameter z-python">:</span> <span class="z-meta z-item-access z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">Query</span></span></span><span class="z-meta z-item-access z-python"><span class="z-punctuation z-section z-brackets z-begin z-python">[</span></span><span class="z-meta z-item-access z-arguments z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">WorldPos</span></span>, <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">Inertia</span></span></span><span class="z-meta z-item-access z-python"><span class="z-punctuation z-section z-brackets z-end z-python">]</span></span></span><span class="z-meta z-function z-parameters z-python"><span class="z-punctuation z-separator z-parameters z-python">,</span>
</span></span><span class="z-source z-python"><span class="z-meta z-function z-parameters z-python"><span class="z-punctuation z-section z-parameters z-end z-python">)</span></span><span class="z-meta z-function z-python"> </span><span class="z-meta z-function z-annotation z-return z-python"><span class="z-punctuation z-separator z-annotation z-return z-python">-&gt;</span> <span class="z-meta z-item-access z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">Query</span></span></span><span class="z-meta z-item-access z-python"><span class="z-punctuation z-section z-brackets z-begin z-python">[</span></span><span class="z-meta z-item-access z-arguments z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">Force</span></span></span><span class="z-meta z-item-access z-python"><span class="z-punctuation z-section z-brackets z-end z-python">]</span></span></span><span class="z-meta z-function z-python"><span class="z-punctuation z-section z-function z-begin z-python">:</span></span> <span class="z-constant z-language z-python">...</span>
</span><span class="z-source z-python">
</span><span class="z-source z-python"><span class="z-meta z-annotation z-python"><span class="z-punctuation z-definition z-annotation z-python">@</span><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-annotation z-python"><span class="z-meta z-generic-name z-python">system</span></span></span></span>
</span><span class="z-source z-python"><span class="z-meta z-function z-python"><span class="z-storage z-type z-function z-python"><span class="z-keyword z-declaration z-function z-python">def</span></span> <span class="z-entity z-name z-function z-python"><span class="z-meta z-generic-name z-python">apply_wind</span></span></span><span class="z-meta z-function z-parameters z-python"><span class="z-punctuation z-section z-parameters z-begin z-python">(</span></span><span class="z-meta z-function z-parameters z-python">
</span></span><span class="z-source z-python"><span class="z-meta z-function z-parameters z-python">    <span class="z-variable z-parameter z-python">w</span></span><span class="z-meta z-function z-parameters z-annotation z-python"><span class="z-punctuation z-separator z-annotation z-parameter z-python">:</span> <span class="z-meta z-item-access z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">Query</span></span></span><span class="z-meta z-item-access z-python"><span class="z-punctuation z-section z-brackets z-begin z-python">[</span></span><span class="z-meta z-item-access z-arguments z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">Wind</span></span></span><span class="z-meta z-item-access z-python"><span class="z-punctuation z-section z-brackets z-end z-python">]</span></span></span><span class="z-meta z-function z-parameters z-python"><span class="z-punctuation z-separator z-parameters z-python">,</span> <span class="z-variable z-parameter z-python">q</span></span><span class="z-meta z-function z-parameters z-annotation z-python"><span class="z-punctuation z-separator z-annotation z-parameter z-python">:</span> <span class="z-meta z-item-access z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">Query</span></span></span><span class="z-meta z-item-access z-python"><span class="z-punctuation z-section z-brackets z-begin z-python">[</span></span><span class="z-meta z-item-access z-arguments z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">Force</span></span>, <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">WorldVel</span></span></span><span class="z-meta z-item-access z-python"><span class="z-punctuation z-section z-brackets z-end z-python">]</span></span>
</span></span><span class="z-source z-python"><span class="z-meta z-function z-parameters z-annotation z-python"></span><span class="z-meta z-function z-parameters z-python"><span class="z-punctuation z-section z-parameters z-end z-python">)</span></span><span class="z-meta z-function z-python"> </span><span class="z-meta z-function z-annotation z-return z-python"><span class="z-punctuation z-separator z-annotation z-return z-python">-&gt;</span> <span class="z-meta z-item-access z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">Query</span></span></span><span class="z-meta z-item-access z-python"><span class="z-punctuation z-section z-brackets z-begin z-python">[</span></span><span class="z-meta z-item-access z-arguments z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">Force</span></span></span><span class="z-meta z-item-access z-python"><span class="z-punctuation z-section z-brackets z-end z-python">]</span></span></span><span class="z-meta z-function z-python"><span class="z-punctuation z-section z-function z-begin z-python">:</span></span> <span class="z-constant z-language z-python">...</span>
</span></code></pre>
<h3 id="elodin-map"><code>@elodin.map</code></h3>
<div class="el-notice warning container-fluid">
    <div class="row g-0 align-items-center">
        <div class="col-1" style="padding: 4px">
            <i class="bx bx-error-circle" style="font-size: 1.5rem"></i>
        </div>
        <div class="col-15"><p>Graph queries cannot be used with <code>@elodin.map</code>. Use <code>@elodin.system</code> instead.</p>
</div>
    </div>
</div>
<p>This is a higher-level API for defining a system that reduces the boilerplate of <code>@elodin.system</code> by unpacking the input and output queries into individual components, and wrapping the body of the function in a <code>query.map(ret_type, ...)</code> call. It is useful for systems with simple data flow patterns. Some examples of <code>@elodin.map</code> are:</p>
<pre data-lang="python" class="language-python z-code"><code class="language-python" data-lang="python"><span class="z-source z-python"><span class="z-meta z-statement z-import z-python"><span class="z-keyword z-control z-import z-python">import</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">elodin</span></span> <span class="z-keyword z-control z-import z-as z-python">as</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span></span></span>
</span><span class="z-source z-python">
</span><span class="z-source z-python"><span class="z-meta z-annotation z-python"><span class="z-punctuation z-definition z-annotation z-python">@</span><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-annotation z-python"><span class="z-meta z-generic-name z-python">map</span></span></span></span>
</span><span class="z-source z-python"><span class="z-meta z-function z-python"><span class="z-storage z-type z-function z-python"><span class="z-keyword z-declaration z-function z-python">def</span></span> <span class="z-entity z-name z-function z-python"><span class="z-meta z-generic-name z-python">gravity</span></span></span><span class="z-meta z-function z-parameters z-python"><span class="z-punctuation z-section z-parameters z-begin z-python">(</span></span><span class="z-meta z-function z-parameters z-python"><span class="z-variable z-parameter z-python">f</span></span><span class="z-meta z-function z-parameters z-annotation z-python"><span class="z-punctuation z-separator z-annotation z-parameter z-python">:</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">Force</span></span></span><span class="z-meta z-function z-parameters z-python"><span class="z-punctuation z-separator z-parameters z-python">,</span> <span class="z-variable z-parameter z-python">inertia</span></span><span class="z-meta z-function z-parameters z-annotation z-python"><span class="z-punctuation z-separator z-annotation z-parameter z-python">:</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">Inertia</span></span></span><span class="z-meta z-function z-parameters z-python"><span class="z-punctuation z-section z-parameters z-end z-python">)</span></span><span class="z-meta z-function z-python"> </span><span class="z-meta z-function z-annotation z-return z-python"><span class="z-punctuation z-separator z-annotation z-return z-python">-&gt;</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">Force</span></span></span><span class="z-meta z-function z-python"><span class="z-punctuation z-section z-function z-begin z-python">:</span></span> <span class="z-constant z-language z-python">...</span>
</span><span class="z-source z-python">
</span><span class="z-source z-python"><span class="z-meta z-annotation z-python"><span class="z-punctuation z-definition z-annotation z-python">@</span><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-annotation z-python"><span class="z-meta z-generic-name z-python">map</span></span></span></span>
</span><span class="z-source z-python"><span class="z-meta z-function z-python"><span class="z-storage z-type z-function z-python"><span class="z-keyword z-declaration z-function z-python">def</span></span> <span class="z-entity z-name z-function z-python"><span class="z-meta z-generic-name z-python">gyro_omega</span></span></span><span class="z-meta z-function z-parameters z-python"><span class="z-punctuation z-section z-parameters z-begin z-python">(</span></span><span class="z-meta z-function z-parameters z-python"><span class="z-variable z-parameter z-python">vel</span></span><span class="z-meta z-function z-parameters z-annotation z-python"><span class="z-punctuation z-separator z-annotation z-parameter z-python">:</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">WorldVel</span></span></span><span class="z-meta z-function z-parameters z-python"><span class="z-punctuation z-section z-parameters z-end z-python">)</span></span><span class="z-meta z-function z-python"> </span><span class="z-meta z-function z-annotation z-return z-python"><span class="z-punctuation z-separator z-annotation z-return z-python">-&gt;</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">GyroOmega</span></span></span><span class="z-meta z-function z-python"><span class="z-punctuation z-section z-function z-begin z-python">:</span></span> <span class="z-constant z-language z-python">...</span>
</span></code></pre>
<p>The following systems are equivalent as the <code>@elodin.map</code> definition effectively desugars to the <code>@elodin.system</code> one:</p>
<pre data-lang="python" class="language-python z-code"><code class="language-python" data-lang="python"><span class="z-source z-python"><span class="z-meta z-statement z-import z-python"><span class="z-keyword z-control z-import z-python">import</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">elodin</span></span> <span class="z-keyword z-control z-import z-as z-python">as</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span></span></span>
</span><span class="z-source z-python">
</span><span class="z-source z-python"><span class="z-meta z-annotation z-python"><span class="z-punctuation z-definition z-annotation z-python">@</span><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-annotation z-python"><span class="z-meta z-generic-name z-python">map</span></span></span></span>
</span><span class="z-source z-python"><span class="z-meta z-function z-python"><span class="z-storage z-type z-function z-python"><span class="z-keyword z-declaration z-function z-python">def</span></span> <span class="z-entity z-name z-function z-python"><span class="z-meta z-generic-name z-python">gravity</span></span></span><span class="z-meta z-function z-parameters z-python"><span class="z-punctuation z-section z-parameters z-begin z-python">(</span></span><span class="z-meta z-function z-parameters z-python"><span class="z-variable z-parameter z-python">f</span></span><span class="z-meta z-function z-parameters z-annotation z-python"><span class="z-punctuation z-separator z-annotation z-parameter z-python">:</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">Force</span></span></span><span class="z-meta z-function z-parameters z-python"><span class="z-punctuation z-separator z-parameters z-python">,</span> <span class="z-variable z-parameter z-python">inertia</span></span><span class="z-meta z-function z-parameters z-annotation z-python"><span class="z-punctuation z-separator z-annotation z-parameter z-python">:</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">Inertia</span></span></span><span class="z-meta z-function z-parameters z-python"><span class="z-punctuation z-section z-parameters z-end z-python">)</span></span><span class="z-meta z-function z-python"> </span><span class="z-meta z-function z-annotation z-return z-python"><span class="z-punctuation z-separator z-annotation z-return z-python">-&gt;</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">Force</span></span></span><span class="z-meta z-function z-python"><span class="z-punctuation z-section z-function z-begin z-python">:</span></span>
</span><span class="z-source z-python">    <span class="z-keyword z-control z-flow z-return z-python">return</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">f</span></span> <span class="z-keyword z-operator z-arithmetic z-python">+</span> <span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">SpatialForce</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-variable z-parameter z-python">linear</span><span class="z-keyword z-operator z-assignment z-python">=</span><span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">inertia</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">mass</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span> <span class="z-keyword z-operator z-arithmetic z-python">*</span> <span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">jnp</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">array</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-meta z-sequence z-list z-python"><span class="z-punctuation z-section z-sequence z-begin z-python">[</span><span class="z-constant z-numeric z-float z-decimal z-python">0<span class="z-punctuation z-separator z-decimal z-python">.</span>0</span><span class="z-punctuation z-separator z-sequence z-python">,</span> <span class="z-keyword z-operator z-arithmetic z-python">-</span><span class="z-constant z-numeric z-float z-decimal z-python">9<span class="z-punctuation z-separator z-decimal z-python">.</span>81</span><span class="z-punctuation z-separator z-sequence z-python">,</span> <span class="z-constant z-numeric z-float z-decimal z-python">0<span class="z-punctuation z-separator z-decimal z-python">.</span>0</span><span class="z-punctuation z-section z-sequence z-end z-python">]</span></span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span>
</span><span class="z-source z-python">
</span><span class="z-source z-python"><span class="z-meta z-annotation z-python"><span class="z-punctuation z-definition z-annotation z-python">@</span><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-annotation z-python"><span class="z-meta z-generic-name z-python">system</span></span></span></span>
</span><span class="z-source z-python"><span class="z-meta z-function z-python"><span class="z-storage z-type z-function z-python"><span class="z-keyword z-declaration z-function z-python">def</span></span> <span class="z-entity z-name z-function z-python"><span class="z-meta z-generic-name z-python">gravity</span></span></span><span class="z-meta z-function z-parameters z-python"><span class="z-punctuation z-section z-parameters z-begin z-python">(</span></span><span class="z-meta z-function z-parameters z-python"><span class="z-variable z-parameter z-python">query</span></span><span class="z-meta z-function z-parameters z-annotation z-python"><span class="z-punctuation z-separator z-annotation z-parameter z-python">:</span> <span class="z-meta z-item-access z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">Query</span></span></span><span class="z-meta z-item-access z-python"><span class="z-punctuation z-section z-brackets z-begin z-python">[</span></span><span class="z-meta z-item-access z-arguments z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">Force</span></span>, <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">Inertia</span></span></span><span class="z-meta z-item-access z-python"><span class="z-punctuation z-section z-brackets z-end z-python">]</span></span></span><span class="z-meta z-function z-parameters z-python"><span class="z-punctuation z-section z-parameters z-end z-python">)</span></span><span class="z-meta z-function z-python"> </span><span class="z-meta z-function z-annotation z-return z-python"><span class="z-punctuation z-separator z-annotation z-return z-python">-&gt;</span> <span class="z-meta z-item-access z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">Query</span></span></span><span class="z-meta z-item-access z-python"><span class="z-punctuation z-section z-brackets z-begin z-python">[</span></span><span class="z-meta z-item-access z-arguments z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">Force</span></span></span><span class="z-meta z-item-access z-python"><span class="z-punctuation z-section z-brackets z-end z-python">]</span></span></span><span class="z-meta z-function z-python"><span class="z-punctuation z-section z-function z-begin z-python">:</span></span>
</span><span class="z-source z-python">    <span class="z-keyword z-control z-flow z-return z-python">return</span> <span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">query</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">map</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span>
</span></span><span class="z-source z-python"><span class="z-meta z-function-call z-arguments z-python">        <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">Force</span></span><span class="z-punctuation z-separator z-arguments z-python">,</span>
</span></span><span class="z-source z-python"><span class="z-meta z-function-call z-arguments z-python">        <span class="z-meta z-function z-inline z-python"><span class="z-storage z-type z-function z-inline z-python"><span class="z-keyword z-declaration z-function z-inline z-python">lambda</span></span></span><span class="z-meta z-function z-inline z-python"><span class="z-meta z-function z-inline z-parameters z-python"> <span class="z-variable z-parameter z-python">f</span><span class="z-punctuation z-separator z-parameters z-python">,</span> <span class="z-variable z-parameter z-python">inertia</span><span class="z-punctuation z-section z-function z-begin z-python">:</span></span></span><span class="z-meta z-function z-inline z-body z-python"> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">f</span></span> <span class="z-keyword z-operator z-arithmetic z-python">+</span> <span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">SpatialForce</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-variable z-parameter z-python">linear</span><span class="z-keyword z-operator z-assignment z-python">=</span><span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">inertia</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">mass</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span> <span class="z-keyword z-operator z-arithmetic z-python">*</span> <span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">jnp</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">array</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-meta z-sequence z-list z-python"><span class="z-punctuation z-section z-sequence z-begin z-python">[</span><span class="z-constant z-numeric z-float z-decimal z-python">0<span class="z-punctuation z-separator z-decimal z-python">.</span>0</span><span class="z-punctuation z-separator z-sequence z-python">,</span> <span class="z-keyword z-operator z-arithmetic z-python">-</span><span class="z-constant z-numeric z-float z-decimal z-python">9<span class="z-punctuation z-separator z-decimal z-python">.</span>81</span><span class="z-punctuation z-separator z-sequence z-python">,</span> <span class="z-constant z-numeric z-float z-decimal z-python">0<span class="z-punctuation z-separator z-decimal z-python">.</span>0</span><span class="z-punctuation z-section z-sequence z-end z-python">]</span></span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span></span><span class="z-punctuation z-separator z-arguments z-python">,</span>
</span></span><span class="z-source z-python"><span class="z-meta z-function-call z-arguments z-python">    <span class="z-punctuation z-section z-arguments z-end z-python">)</span></span>
</span></code></pre>
<h3 id="class-elodin-query"><em>class</em> <code>elodin.Query</code></h3>
<p><code>Query</code> is the primary mechanism for accessing data in Elodin. It is a view into the world state that is filtered by the components specified in the query. Only entities that have been spawned with all of the query's components will be selected for processing. For example, the query <code>Query[WorldPos, Inertia]</code> would only select entities that have both a <code>WorldPos</code> and an <code>Inertia</code> component (typically via the <code>Body</code> <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#archetypes">archetype</a>).</p>
<ul>
<li>
<p><code>map(ret_type, map_fn)</code> -&gt; <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-query">elodin.Query</a></p>
<p>Apply a function <code>map_fn</code> to the query's components and return a new query with the specified <code>ret_type</code> return type. <code>map_fn</code> should be a function that takes the query's components as arguments and returns a single value of type <code>ret_type</code>.</p>
<pre data-lang="python" class="language-python z-code"><code class="language-python" data-lang="python"><span class="z-source z-python"><span class="z-meta z-statement z-import z-python"><span class="z-keyword z-control z-import z-python">import</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">elodin</span></span> <span class="z-keyword z-control z-import z-as z-python">as</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span></span></span>
</span><span class="z-source z-python">
</span><span class="z-source z-python"><span class="z-meta z-annotation z-python"><span class="z-punctuation z-definition z-annotation z-python">@</span><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-annotation z-python"><span class="z-meta z-generic-name z-python">system</span></span></span></span>
</span><span class="z-source z-python"><span class="z-meta z-function z-python"><span class="z-storage z-type z-function z-python"><span class="z-keyword z-declaration z-function z-python">def</span></span> <span class="z-entity z-name z-function z-python"><span class="z-meta z-generic-name z-python">gravity</span></span></span><span class="z-meta z-function z-parameters z-python"><span class="z-punctuation z-section z-parameters z-begin z-python">(</span></span><span class="z-meta z-function z-parameters z-python"><span class="z-variable z-parameter z-python">query</span></span><span class="z-meta z-function z-parameters z-annotation z-python"><span class="z-punctuation z-separator z-annotation z-parameter z-python">:</span> <span class="z-meta z-item-access z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">Query</span></span></span><span class="z-meta z-item-access z-python"><span class="z-punctuation z-section z-brackets z-begin z-python">[</span></span><span class="z-meta z-item-access z-arguments z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">Force</span></span>, <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">Inertia</span></span></span><span class="z-meta z-item-access z-python"><span class="z-punctuation z-section z-brackets z-end z-python">]</span></span></span><span class="z-meta z-function z-parameters z-python"><span class="z-punctuation z-section z-parameters z-end z-python">)</span></span><span class="z-meta z-function z-python"> </span><span class="z-meta z-function z-annotation z-return z-python"><span class="z-punctuation z-separator z-annotation z-return z-python">-&gt;</span> <span class="z-meta z-item-access z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">Query</span></span></span><span class="z-meta z-item-access z-python"><span class="z-punctuation z-section z-brackets z-begin z-python">[</span></span><span class="z-meta z-item-access z-arguments z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">Force</span></span></span><span class="z-meta z-item-access z-python"><span class="z-punctuation z-section z-brackets z-end z-python">]</span></span></span><span class="z-meta z-function z-python"><span class="z-punctuation z-section z-function z-begin z-python">:</span></span>
</span><span class="z-source z-python">    <span class="z-keyword z-control z-flow z-return z-python">return</span> <span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">query</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">map</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span>
</span></span><span class="z-source z-python"><span class="z-meta z-function-call z-arguments z-python">        <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">Force</span></span><span class="z-punctuation z-separator z-arguments z-python">,</span>
</span></span><span class="z-source z-python"><span class="z-meta z-function-call z-arguments z-python">        <span class="z-meta z-function z-inline z-python"><span class="z-storage z-type z-function z-inline z-python"><span class="z-keyword z-declaration z-function z-inline z-python">lambda</span></span></span><span class="z-meta z-function z-inline z-python"><span class="z-meta z-function z-inline z-parameters z-python"> <span class="z-variable z-parameter z-python">f</span><span class="z-punctuation z-separator z-parameters z-python">,</span> <span class="z-variable z-parameter z-python">inertia</span><span class="z-punctuation z-section z-function z-begin z-python">:</span></span></span><span class="z-meta z-function z-inline z-body z-python"> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">f</span></span> <span class="z-keyword z-operator z-arithmetic z-python">+</span> <span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">SpatialForce</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-variable z-parameter z-python">linear</span><span class="z-keyword z-operator z-assignment z-python">=</span><span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">inertia</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">mass</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span> <span class="z-keyword z-operator z-arithmetic z-python">*</span> <span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">jnp</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">array</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-meta z-sequence z-list z-python"><span class="z-punctuation z-section z-sequence z-begin z-python">[</span><span class="z-constant z-numeric z-float z-decimal z-python">0<span class="z-punctuation z-separator z-decimal z-python">.</span>0</span><span class="z-punctuation z-separator z-sequence z-python">,</span> <span class="z-keyword z-operator z-arithmetic z-python">-</span><span class="z-constant z-numeric z-float z-decimal z-python">9<span class="z-punctuation z-separator z-decimal z-python">.</span>81</span><span class="z-punctuation z-separator z-sequence z-python">,</span> <span class="z-constant z-numeric z-float z-decimal z-python">0<span class="z-punctuation z-separator z-decimal z-python">.</span>0</span><span class="z-punctuation z-section z-sequence z-end z-python">]</span></span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span></span><span class="z-punctuation z-separator z-arguments z-python">,</span>
</span></span><span class="z-source z-python"><span class="z-meta z-function-call z-arguments z-python">    <span class="z-punctuation z-section z-arguments z-end z-python">)</span></span>
</span></code></pre>
<p>In this example, <code>ret_type</code> is <code>el.Force</code> and <code>map_fn</code> is a lambda function with the signature <code>(el.Force, el.Inertia) -&gt; el.Force</code>.</p>
<p>To return multiple components as output, <code>ret_type</code> must be a tuple:</p>
<pre data-lang="python" class="language-python z-code"><code class="language-python" data-lang="python"><span class="z-source z-python"><span class="z-meta z-statement z-import z-python"><span class="z-keyword z-control z-import z-python">import</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">elodin</span></span> <span class="z-keyword z-control z-import z-as z-python">as</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span></span></span>
</span><span class="z-source z-python">
</span><span class="z-source z-python"><span class="z-meta z-annotation z-python"><span class="z-punctuation z-definition z-annotation z-python">@</span><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-annotation z-python"><span class="z-meta z-generic-name z-python">system</span></span></span></span>
</span><span class="z-source z-python"><span class="z-meta z-function z-python"><span class="z-storage z-type z-function z-python"><span class="z-keyword z-declaration z-function z-python">def</span></span> <span class="z-entity z-name z-function z-python"><span class="z-meta z-generic-name z-python">multi_out_sys</span></span></span><span class="z-meta z-function z-parameters z-python"><span class="z-punctuation z-section z-parameters z-begin z-python">(</span></span><span class="z-meta z-function z-parameters z-python"><span class="z-variable z-parameter z-python">query</span></span><span class="z-meta z-function z-parameters z-annotation z-python"><span class="z-punctuation z-separator z-annotation z-parameter z-python">:</span> <span class="z-meta z-item-access z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">Query</span></span></span><span class="z-meta z-item-access z-python"><span class="z-punctuation z-section z-brackets z-begin z-python">[</span></span><span class="z-meta z-item-access z-arguments z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">A</span></span></span><span class="z-meta z-item-access z-python"><span class="z-punctuation z-section z-brackets z-end z-python">]</span></span></span><span class="z-meta z-function z-parameters z-python"><span class="z-punctuation z-section z-parameters z-end z-python">)</span></span><span class="z-meta z-function z-python"> </span><span class="z-meta z-function z-annotation z-return z-python"><span class="z-punctuation z-separator z-annotation z-return z-python">-&gt;</span> <span class="z-meta z-item-access z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">el</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">Query</span></span></span><span class="z-meta z-item-access z-python"><span class="z-punctuation z-section z-brackets z-begin z-python">[</span></span><span class="z-meta z-item-access z-arguments z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">C</span></span>, <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">D</span></span></span><span class="z-meta z-item-access z-python"><span class="z-punctuation z-section z-brackets z-end z-python">]</span></span></span><span class="z-meta z-function z-python"><span class="z-punctuation z-section z-function z-begin z-python">:</span></span>
</span><span class="z-source z-python">    <span class="z-keyword z-control z-flow z-return z-python">return</span> <span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">query</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">map</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-meta z-sequence z-tuple z-python"><span class="z-punctuation z-section z-sequence z-begin z-python">(</span><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">C</span></span><span class="z-punctuation z-separator z-sequence z-python">,</span> <span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">D</span></span><span class="z-punctuation z-section z-sequence z-end z-python">)</span></span><span class="z-punctuation z-separator z-arguments z-python">,</span> <span class="z-meta z-function z-inline z-python"><span class="z-storage z-type z-function z-inline z-python"><span class="z-keyword z-declaration z-function z-inline z-python">lambda</span></span></span><span class="z-meta z-function z-inline z-python"><span class="z-meta z-function z-inline z-parameters z-python"> <span class="z-variable z-parameter z-python">a</span><span class="z-punctuation z-section z-function z-begin z-python">:</span></span></span><span class="z-meta z-function z-inline z-body z-python"> <span class="z-constant z-language z-python">...</span></span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span>
</span></code></pre>
</li>
</ul>
<h3 id="class-elodin-graphquery"><em>class</em> <code>elodin.GraphQuery</code></h3>
<p><code>GraphQuery</code> is a special type of query for operating on edges in an entity graph. <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-edge">Edges</a> represent relationships between entities and are fundamental for modeling physics systems such as gravity.</p>
<p>A <code>GraphQuery</code> requires exactly one type argument, which must be an annotated <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-edge">elodin.Edge</a> component. For example, <code>GraphQuery[GravityEdge]</code> is a valid graph query if <code>GravityEdge</code> is a component with <code>Edge</code> as the base class:</p>
<pre data-lang="python" class="language-python z-code"><code class="language-python" data-lang="python"><span class="z-source z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">GravityEdge</span></span> <span class="z-keyword z-operator z-assignment z-python">=</span> <span class="z-meta z-item-access z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">typing</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">Annotated</span></span></span><span class="z-meta z-item-access z-python"><span class="z-punctuation z-section z-brackets z-begin z-python">[</span></span><span class="z-meta z-item-access z-arguments z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">elodin</span><span class="z-punctuation z-accessor z-dot z-python">.</span><span class="z-meta z-generic-name z-python">Edge</span></span>, <span class="z-meta z-function-call z-python"><span class="z-meta z-qualified-name z-python"><span class="z-meta z-generic-name z-python">elodin</span></span><span class="z-meta z-qualified-name z-python"><span class="z-punctuation z-accessor z-dot z-python">.</span></span><span class="z-meta z-qualified-name z-python"><span class="z-variable z-function z-python"><span class="z-meta z-generic-name z-python">Component</span></span></span></span><span class="z-meta z-function-call z-arguments z-python"><span class="z-punctuation z-section z-arguments z-begin z-python">(</span><span class="z-meta z-string z-python"><span class="z-string z-quoted z-double z-python"><span class="z-punctuation z-definition z-string z-begin z-python">&quot;</span></span></span><span class="z-meta z-string z-python"><span class="z-string z-quoted z-double z-python">gravity_edge<span class="z-punctuation z-definition z-string z-end z-python">&quot;</span></span></span><span class="z-punctuation z-section z-arguments z-end z-python">)</span></span></span><span class="z-meta z-item-access z-python"><span class="z-punctuation z-section z-brackets z-end z-python">]</span></span>
</span></code></pre>
<ul>
<li>
<p><code>edge_fold(left_query, right_query, return_type, init_value, fold_fn)</code> -&gt; <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-query">elodin.Query</a></p>
<p>For each edge, query the left and right entity components using <code>left_query</code> and <code>right_query</code>, respectively. Then, apply the <code>fold_fn</code> function to those input components to compute the <code>return_type</code> output component(s).</p>
<div class="el-notice warning container-fluid">
    <div class="row g-0 align-items-center">
        <div class="col-1" style="padding: 4px">
            <i class="bx bx-error-circle" style="font-size: 1.5rem"></i>
        </div>
        <div class="col-15"><p>The <code>return_type</code> component(s) must belong to the <strong>left</strong> entity of the edge.</p>
</div>
    </div>
</div>
<p>A single left entity may have edges to multiple right entities, but it can only hold a single value for each <code>return_type</code> component. So, the <code>fold_fn</code> computations for each entity's edges must be accumulated into a single final value. To carry the intermediate results, <code>fold_fn</code> takes an "accumulator" value as the first argument. Its output is set as the accumulator value for the next iteration. <code>init_value</code> is the initial value of the accumulator.</p>
<div class="el-notice warning container-fluid">
    <div class="row g-0 align-items-center">
        <div class="col-1" style="padding: 4px">
            <i class="bx bx-error-circle" style="font-size: 1.5rem"></i>
        </div>
        <div class="col-15"><p><code>edge_fold</code> makes no guarantees about the order in which edges are processed. For associative operators like <code>+</code>, the order the elements are combined in is not important, but for non-associative operators like <code>-</code>, the order will affect the final result.</p>
</div>
    </div>
</div>
<p>See the <a href="/home/3-body">Three-Body Orbit Tutorial</a> for a practical example of using <code>edge_fold</code> to compute gravitational forces between entities.</p>
</li>
</ul>
<p><br></br></p>
<h2 id="primitives">Primitives</h2>
<h3 id="class-elodin-primitivetype"><em>class</em> <code>elodin.PrimitiveType</code></h3>
<ul>
<li>
<p><code>elodin.PrimitiveType.F64</code> -&gt; <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-primitivetype">elodin.PrimitiveType</a></p>
<p>A constant representing the 64-bit floating point data type.</p>
</li>
<li>
<p><code>elodin.PrimitiveType.U64</code> -&gt; <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-primitivetype">elodin.PrimitiveType</a></p>
<p>A constant representing the 64-bit unsigned integer data type.</p>
</li>
</ul>
<h3 id="class-elodin-quaternion"><em>class</em> <code>elodin.Quaternion</code></h3>
<p>Unit quaternions are used to represent spatial orientations and rotations of bodies in 3D space.</p>
<ul>
<li>
<p><code>Quaternion.identity()</code> -&gt; <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-quaternion">elodin.Quaternion</a></p>
<p>Create a unit quaternion with no rotation.</p>
</li>
<li>
<p><code>Quaternion.from_axis_angle()</code> -&gt; <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-quaternion">elodin.Quaternion</a></p>
<p>Create a quaternion from an axis and an angle.</p>
</li>
<li>
<p><code>inverse()</code> -&gt; <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-quaternion">elodin.Quaternion</a></p>
<p>Compute the inverse of the quaternion.</p>
</li>
<li>
<p><code>normalize()</code> -&gt; <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-quaternion">elodin.Quaternion</a></p>
<p>Normalize to a unit quaternion.</p>
</li>
<li>
<p><code>integrate_body(body_delta)</code> -&gt; <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-quaternion">elodin.Quaternion</a></p>
<p>Perform quaternion integration in body-frame with angular velocity <code>body_delta</code>, which must be a 3D vector.</p>
</li>
<li>
<p><code>__add__(other)</code> -&gt; <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-quaternion">elodin.Quaternion</a></p>
<p>Add two quaternions.</p>
<div class="el-info warning container-fluid">
    <div class="row g-0 align-items-center">
        <div class="col-1" style="padding: 4px">
            <i class="bx bx-info-circle" style="font-size: 1.5rem"></i>
        </div>
        <div class="col-15"><p>Adding quaternions does not yield the composite rotation unless they are <a href="https://en.wikipedia.org/wiki/Rotation_matrix#Infinitesimal_rotations">infinitesimal rotations, use multiplication instead.</a></p>
</div>
    </div>
</div>
</li>
<li>
<p><code>__mul__(other)</code> -&gt; <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-quaternion">elodin.Quaternion</a></p>
<p>Multiply two quaternions.</p>
</li>
<li>
<p><code>__matmul__(vector)</code> -&gt; <a href="https://jax.readthedocs.io/en/latest/_autosummary/jax.Array.html#jax.Array">jax.Array</a> | <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-spatialtransform">elodin.SpatialTransform</a> | <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-spatialmotion">elodin.SpatialMotion</a> | <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-spatialforce">elodin.SpatialForce</a></p>
<p>Rotate <code>vector</code> by computing the matrix product. The vector can be a plain <a href="https://jax.readthedocs.io/en/latest/_autosummary/jax.Array.html#jax.Array">jax.Array</a> or one of the following spatial objects: <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-spatialtransform">elodin.SpatialTransform</a>, <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-spatialmotion">elodin.SpatialMotion</a>, <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-spatialforce">elodin.SpatialForce</a>. The return type is the same as the input type.</p>
</li>
</ul>
<p><br></br></p>
<h2 id="spatial-vector-algebra">Spatial Vector Algebra</h2>
<p>Elodin uses Featherstones spatial vector algebra notation for rigid-body dynamics as it is a compact way of representing the state of a rigid body with six degrees of freedom. You can read a short into <a href="https://homes.cs.washington.edu/~todorov/courses/amath533/FeatherstoneSlides.pdf">here</a> or in <a href="https://link.springer.com/book/10.1007/978-1-4899-7560-7">Rigid Body Dynamics Algorithms (Featherstone - 2008)</a>.</p>
<h3 id="class-elodin-spatialtransform"><em>class</em> <code>elodin.SpatialTransform</code></h3>
<p>A spatial transform is a 7D vector that represents a rigid body transformation in 3D space.</p>
<ul>
<li>
<p><code>__init__(arr, angular, linear)</code> -&gt; <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-spatialtransform">elodin.SpatialTransform</a></p>
<p>Create a spatial transform from either <code>arr</code> or <code>angular</code> <strong>and</strong> <code>linear</code>. If no arguments are provided, the spatial transform is initialized to the default values of the identity quaternion and the zero vector.</p>
<ul>
<li><code>arr</code> : <a href="https://jax.readthedocs.io/en/latest/_autosummary/jax.Array.html#jax.Array">jax.Array</a> with shape (7)</li>
<li><code>angular</code> : <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-quaternion">elodin.Quaternion</a>, default is <code>Quaternion.identity()</code></li>
<li><code>linear</code> : <a href="https://jax.readthedocs.io/en/latest/_autosummary/jax.Array.html#jax.Array">jax.Array</a> with shape (3), default is <code>[0, 0, 0]</code></li>
</ul>
</li>
<li>
<p><code>linear()</code> -&gt; <a href="https://jax.readthedocs.io/en/latest/_autosummary/jax.Array.html#jax.Array">jax.Array</a></p>
<p>Get the linear part of the spatial transform as a vector with shape (3,).</p>
</li>
<li>
<p><code>angular()</code> -&gt; <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-quaternion">elodin.Quaternion</a></p>
<p>Get the angular part of the spatial transform as a quaternion.</p>
</li>
<li>
<p><code>__add__(other)</code> -&gt; <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-spatialtransform">elodin.SpatialTransform</a> | <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-spatialmotion">elodin.SpatialMotion</a></p>
<p>Add either a <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-spatialtransform">elodin.SpatialTransform</a> or a <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-spatialmotion">elodin.SpatialMotion</a> to the spatial transform. The return type is always a spatial transform.</p>
</li>
</ul>
<h3 id="class-elodin-spatialmotion"><em>class</em> <code>elodin.SpatialMotion</code></h3>
<p>A spatial motion is a 6D vector that represents either the velocity or acceleration of a rigid body in 3D space.</p>
<ul>
<li>
<p><code>__init__(angular, linear)</code> -&gt; <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-spatialmotion">elodin.SpatialMotion</a></p>
<p>Create a spatial motion from an angular and a linear vector. Both arguments are optional and default to zero vectors.</p>
<ul>
<li><code>angular</code> : <a href="https://jax.readthedocs.io/en/latest/_autosummary/jax.Array.html#jax.Array">jax.Array</a> with shape (3), default is <code>[0, 0, 0]</code></li>
<li><code>linear</code> : <a href="https://jax.readthedocs.io/en/latest/_autosummary/jax.Array.html#jax.Array">jax.Array</a> with shape (3), default is <code>[0, 0, 0]</code></li>
</ul>
</li>
<li>
<p><code>linear()</code> -&gt; <a href="https://jax.readthedocs.io/en/latest/_autosummary/jax.Array.html#jax.Array">jax.Array</a></p>
<p>Get the linear part of the spatial motion as a vector with shape (3,).</p>
</li>
<li>
<p><code>angular()</code> -&gt; <a href="https://jax.readthedocs.io/en/latest/_autosummary/jax.Array.html#jax.Array">jax.Array</a></p>
<p>Get the angular part of the spatial motion as a vector with shape (3,).</p>
</li>
<li>
<p><code>__add__(other)</code> -&gt; <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-spatialmotion">elodin.SpatialMotion</a></p>
<p>Add two spatial motions.</p>
</li>
</ul>
<h3 id="class-elodin-spatialforce"><em>class</em> <code>elodin.SpatialForce</code></h3>
<p>A spatial force is a 6D vector that represents the linear force and torque applied to a rigid body in 3D space.</p>
<ul>
<li>
<p><code>__init__(arr, torque, force)</code> -&gt; <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-spatialforce">elodin.SpatialForce</a></p>
<p>Create a spatial force from either <code>arr</code> or <code>torque</code> <strong>and</strong> <code>force</code>. If no arguments are provided, the spatial force is initialized to zero torque and force.</p>
<ul>
<li><code>arr</code> : <a href="https://jax.readthedocs.io/en/latest/_autosummary/jax.Array.html#jax.Array">jax.Array</a> with shape (6)</li>
<li><code>torque</code> : <a href="https://jax.readthedocs.io/en/latest/_autosummary/jax.Array.html#jax.Array">jax.Array</a> with shape (3), default is <code>[0, 0, 0]</code></li>
<li><code>force</code> : <a href="https://jax.readthedocs.io/en/latest/_autosummary/jax.Array.html#jax.Array">jax.Array</a> with shape (3), default is <code>[0, 0, 0]</code></li>
</ul>
</li>
<li>
<p><code>force()</code> -&gt; <a href="https://jax.readthedocs.io/en/latest/_autosummary/jax.Array.html#jax.Array">jax.Array</a></p>
<p>Get the linear force part of the spatial force as a vector with shape (3,).</p>
</li>
<li>
<p><code>torque()</code> -&gt; <a href="https://jax.readthedocs.io/en/latest/_autosummary/jax.Array.html#jax.Array">jax.Array</a></p>
<p>Get the torque part of the spatial force as a vector with shape (3,).</p>
</li>
<li>
<p><code>__add__(other)</code> -&gt; <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-spatialforce">elodin.SpatialForce</a></p>
<p>Add two spatial forces.</p>
</li>
</ul>
<h3 id="class-elodin-spatialinertia"><em>class</em> <code>elodin.SpatialInertia</code></h3>
<p>A spatial inertia is a 7D vector that represents the mass, moment of inertia, and momentum of a rigid body in 3D space. The moment of inertia is represented in its <a href="https://en.wikipedia.org/wiki/Moment_of_inertia#Principal_axes">diagonalized form</a> of $[I_1, I_2, I_3]$.</p>
<ul>
<li>
<p><code>__init__(mass, inertia)</code> -&gt; <a href="https://docs.elodin.systems/preview/pr-277/reference/python-api/#class-elodin-spatialinertia">elodin.SpatialInertia</a></p>
<p>Create a spatial tensor inertia from a scalar mass and an optional inertia tensor diagonal with shape (3,). If the inertia tensor is not provided, it is set to the same value as the mass along all axes.</p>
</li>
<li>
<p><code>mass()</code> -&gt; <a href="https://jax.readthedocs.io/en/latest/_autosummary/jax.Array.html#jax.Array">jax.Array</a></p>
<p>Get the scalar mass of the spatial inertia.</p>
</li>
<li>
<p><code>inertia_diag()</code> -&gt; <a href="https://jax.readthedocs.io/en/latest/_autosummary/jax.Array.html#jax.Array">jax.Array</a></p>
<p>Get the inertia tensor diagonal of the spatial inertia with shape (3,).</p>
</li>
</ul>

                  
<div class="footer-line-padding"></div>
<div class="footer-line"></div>
<div class="docs-navigation d-flex justify-content-between">
                
</div>

              </main>
          </div>
      </div>
  </div>
  
<script type="text/javascript" src="https://docs.elodin.systems/preview/pr-277/js/main.js"></script>
<script>
    // https://mathjax.github.io/MathJax-demos-web/convert-configuration/convert-configuration.html
    window.MathJax = {
        tex: {
            inlineMath: [
                ["$", "$"],
                ["\\(", "\\)"],
            ],
            displayMath: [
                ["$$", "$$"],
                ["\[\[", "\]\]"],
            ],
            processEscapes: true,
            processEnvironments: true,
        },
        options: {
            skipHtmlTags: ["script", "noscript", "style", "textarea", "pre"],
        },
    };
</script>
<script type="text/javascript" src="https://docs.elodin.systems/preview/pr-277/js/tex-mml-chtml.js"></script>

  <script type="text/javascript" src="https://docs.elodin.systems/preview/pr-277/js/elasticlunr.min.js"></script>
  <script type="text/javascript" src="https://docs.elodin.systems/preview/pr-277/search_index.en.js"></script>
  <script type="text/javascript" src="https://docs.elodin.systems/preview/pr-277/js/search.js"></script>


</body>

</html>
